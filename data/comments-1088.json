[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495021601",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495021601",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495021601,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTAyMTYwMQ==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-23T00:22:10Z",
        "updated_at": "2019-05-23T00:22:10Z",
        "author_association": "NONE",
        "body": "Also created a feature request [to extend Flatten ops functionality](https://github.com/onnx/onnx/issues/2046) in ONNX",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495021601/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495024118",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495024118",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495024118,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTAyNDExOA==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-23T00:36:47Z",
        "updated_at": "2019-05-23T00:36:47Z",
        "author_association": "NONE",
        "body": "For now using `.view` to implement:\r\n\r\n```python\r\nclass Reduction(nn.Module):\r\n    def __init__(self, operation='+', axis=None):\r\n        super(Reduction, self).__init__()\r\n        self.operation = operation\r\n        self.axis = axis or 0  # default initial axis to reduce\r\n\r\n    def extra_repr(self):\r\n        \"\"\"Extra information\r\n        \"\"\"\r\n        return \"{}{}\".format(\r\n                self.operation,\r\n                \", axis={}\".format(self.axis) if self.axis else \"\",\r\n        )\r\n\r\n    def forward(self, x):\r\n        axis = self.axis\r\n        if self.axis == 0 and x.size(0) == 1:\r\n            # full reduction on a single batch\r\n            axis = None\r\n            dims = None\r\n        else:\r\n            # TODO: use .flatten(axis) instead of .view(*dims) when ONNX supports flatten\r\n            dims = [x.shape[ii] for ii in range(axis)] + [-1]\r\n        if self.operation == '+' or self.operation == 'SUM':\r\n            if axis is None:\r\n                return x.sum()\r\n            return x.view(*dims).sum(axis)\r\n        elif self.operation == 'ASUM':\r\n            if axis is None:\r\n                return x.abs().sum()\r\n            return x.abs().view(*dims).sum(axis)\r\n        elif self.operation == 'SUMSQ':\r\n            if axis is None:\r\n                return x.pow(2).sum()\r\n            return x.pow(2).view(*dims).sum(axis)\r\n        elif self.operation == 'MEAN':\r\n            if axis is None:\r\n                return x.mean()\r\n            return x.view(*dims).mean(axis)\r\n        else:\r\n            raise RuntimeError('forward Reduction, unknown operator: {}'.format(self.operation))\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495024118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495439733",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495439733",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495439733,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTQzOTczMw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-24T01:26:04Z",
        "updated_at": "2019-05-24T01:26:04Z",
        "author_association": "MEMBER",
        "body": "Hi @dashesy ,\r\n\r\nIf I understand correctly, you would like ONNX Flatten to have a more generic spec (support `start_dim` and `end_dim`) and have it's corresponding implementation in ONNXRuntime. Is this a correct summary of this issue ?\r\n\r\nThanks!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495439733/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495440114",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495440114",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495440114,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTQ0MDExNA==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-24T01:28:34Z",
        "updated_at": "2019-05-24T01:28:34Z",
        "author_association": "NONE",
        "body": "Yes, currently ONNXRuntime does not have Flatten. And Flatten in ONNX is not generic enough either.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495440114/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495443080",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495443080",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495443080,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTQ0MzA4MA==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-24T01:46:02Z",
        "updated_at": "2019-05-24T01:46:02Z",
        "author_association": "MEMBER",
        "body": "@dashesy - ONNXRuntime doe seem to have Flatten implementation - \r\nhttps://github.com/microsoft/onnxruntime/blob/11243253f234e6b46d894acf8b112b6530edeafe/onnxruntime/core/providers/cpu/cpu_execution_provider.cc#L103\r\n\r\nBut it seems like the version support is only till opset 9. Let me fix that.\r\n\r\nFor the change in spec, it needs to be proposed to ONNX first. I ll propose a change in spec.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495443080/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495818427",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1088#issuecomment-495818427",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1088",
        "id": 495818427,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTgxODQyNw==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-25T00:17:38Z",
        "updated_at": "2019-05-25T00:17:38Z",
        "author_association": "MEMBER",
        "body": "Hi @dashesy ,\r\n\r\n1) `Flatten` is implemented in the ONNXRuntime. So it should be part of ONNXRuntime 0.4.0. If you specific issues while trying to run an ONNX model with a `Flatten` op, please open a separate issue.  \r\n\r\n2) Regarding the request for a more generic `Flatten` spec, I ll address this early next week, but let's use the feature request issue in ONNX to track the request. I will close this issue in ONNX RUntime and as soon as the generic spec of Flatten is accepted into ONNX - I will open up another task to track it's implementation here.\r\n\r\nThanks!\r\n \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/495818427/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]