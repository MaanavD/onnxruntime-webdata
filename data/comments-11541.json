[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129348623",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1129348623",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1129348623,
        "node_id": "IC_kwDOCVq1mM5DUH4P",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-17T21:48:53Z",
        "updated_at": "2022-05-17T21:48:53Z",
        "author_association": "MEMBER",
        "body": "I'm assuming you're calling CreateTensorWithDataAsOrtValue to create the OrtValue tensor?\r\n\r\nThe size of the buffer you're passing in needs to be 4x larger (as float is 4 bytes vs uint8 is 1). 602112 = 150528*4\r\n\r\nIf that isn't the answer, please provide more context for the code you're using",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129348623/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129365359",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1129365359",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1129365359,
        "node_id": "IC_kwDOCVq1mM5DUL9v",
        "user": {
            "login": "lamarvwoods",
            "id": 30392882,
            "node_id": "MDQ6VXNlcjMwMzkyODgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/30392882?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lamarvwoods",
            "html_url": "https://github.com/lamarvwoods",
            "followers_url": "https://api.github.com/users/lamarvwoods/followers",
            "following_url": "https://api.github.com/users/lamarvwoods/following{/other_user}",
            "gists_url": "https://api.github.com/users/lamarvwoods/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lamarvwoods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lamarvwoods/subscriptions",
            "organizations_url": "https://api.github.com/users/lamarvwoods/orgs",
            "repos_url": "https://api.github.com/users/lamarvwoods/repos",
            "events_url": "https://api.github.com/users/lamarvwoods/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lamarvwoods/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-17T22:11:13Z",
        "updated_at": "2022-05-17T22:11:13Z",
        "author_association": "NONE",
        "body": "Yes I am calling CreateTensorWithDataAsOrtValue. \r\n\r\nI luckily had figured out that the size needed to be 4x larger but couldn't figure out where to change the value. \r\nWhen I multiplied the p_data_byte_count by 4, my app crashed. It crashes on the line that I call run() on my ORTSession. Any thoughts on what I should do?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129365359/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129380610",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1129380610",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1129380610,
        "node_id": "IC_kwDOCVq1mM5DUPsC",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-17T22:27:20Z",
        "updated_at": "2022-05-17T22:27:20Z",
        "author_association": "MEMBER",
        "body": "You need to ensure the size of the buffer pointed to by p_data is actually the size you're saying it is. Setting p_data_byte_count higher is just lying to onnxruntime and will crash when it tries to access memory that is not there.\r\n\r\nYou need to buffer you're allocating for p_data to be the correct size. Can you share some code context of how you allocate the buffer and pass it to onnxruntime?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129380610/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129395648",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1129395648",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1129395648,
        "node_id": "IC_kwDOCVq1mM5DUTXA",
        "user": {
            "login": "lamarvwoods",
            "id": 30392882,
            "node_id": "MDQ6VXNlcjMwMzkyODgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/30392882?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lamarvwoods",
            "html_url": "https://github.com/lamarvwoods",
            "followers_url": "https://api.github.com/users/lamarvwoods/followers",
            "following_url": "https://api.github.com/users/lamarvwoods/following{/other_user}",
            "gists_url": "https://api.github.com/users/lamarvwoods/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lamarvwoods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lamarvwoods/subscriptions",
            "organizations_url": "https://api.github.com/users/lamarvwoods/orgs",
            "repos_url": "https://api.github.com/users/lamarvwoods/repos",
            "events_url": "https://api.github.com/users/lamarvwoods/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lamarvwoods/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-17T22:50:59Z",
        "updated_at": "2022-05-17T22:50:59Z",
        "author_association": "NONE",
        "body": "This is almost exactly the code I'm using: https://github.com/microsoft/onnxruntime-inference-examples/blob/main/mobile/examples/object_detection/ios/ORTObjectDetection/ModelHandler.swift\r\nThe changes to the code are:\r\n\r\n1. I'm using an ort file built from one of my team's onnx models\r\n2. The model has a different order for input  shape. So instead of supplying 1, 300, 300, 3 - I send 1, 3, 244, 244.\r\n3. On line 146 I changed the ORTTensorElementDataType.uInt8 to ORTTensorElementDataType.float because my model takes float32[1,3,224,224] instead of the uint8[1,300,300,3] that the example model does\r\n\r\nDoes this help?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129395648/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129425782",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1129425782",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1129425782,
        "node_id": "IC_kwDOCVq1mM5DUat2",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-17T23:50:16Z",
        "updated_at": "2022-05-17T23:50:16Z",
        "author_association": "MEMBER",
        "body": "Yeah, this won't work without a bunch more changes. You can see the swift code is getting the scaledPixelBuffer from the preprocess method which isn't creating a buffer of float type. You'd need to rewrite it to use floats vs bytes.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1129425782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1133418801",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1133418801",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1133418801,
        "node_id": "IC_kwDOCVq1mM5Djpkx",
        "user": {
            "login": "lamarvwoods",
            "id": 30392882,
            "node_id": "MDQ6VXNlcjMwMzkyODgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/30392882?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lamarvwoods",
            "html_url": "https://github.com/lamarvwoods",
            "followers_url": "https://api.github.com/users/lamarvwoods/followers",
            "following_url": "https://api.github.com/users/lamarvwoods/following{/other_user}",
            "gists_url": "https://api.github.com/users/lamarvwoods/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lamarvwoods/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lamarvwoods/subscriptions",
            "organizations_url": "https://api.github.com/users/lamarvwoods/orgs",
            "repos_url": "https://api.github.com/users/lamarvwoods/repos",
            "events_url": "https://api.github.com/users/lamarvwoods/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lamarvwoods/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-20T21:58:59Z",
        "updated_at": "2022-05-20T21:58:59Z",
        "author_association": "NONE",
        "body": "Sorry I'm a bit of a novice in these matters. Could you tell me what changes would need to be made?\r\nI keep trying to multiply certain values by 4 but am getting nowhere",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1133418801/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1143048682",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/11541#issuecomment-1143048682",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/11541",
        "id": 1143048682,
        "node_id": "IC_kwDOCVq1mM5EIYnq",
        "user": {
            "login": "RyanUnderhill",
            "id": 38674843,
            "node_id": "MDQ6VXNlcjM4Njc0ODQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/38674843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RyanUnderhill",
            "html_url": "https://github.com/RyanUnderhill",
            "followers_url": "https://api.github.com/users/RyanUnderhill/followers",
            "following_url": "https://api.github.com/users/RyanUnderhill/following{/other_user}",
            "gists_url": "https://api.github.com/users/RyanUnderhill/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RyanUnderhill/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RyanUnderhill/subscriptions",
            "organizations_url": "https://api.github.com/users/RyanUnderhill/orgs",
            "repos_url": "https://api.github.com/users/RyanUnderhill/repos",
            "events_url": "https://api.github.com/users/RyanUnderhill/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RyanUnderhill/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-01T02:22:14Z",
        "updated_at": "2022-06-01T02:22:14Z",
        "author_association": "MEMBER",
        "body": "Unfortunately it's a non trivial change and I'm not familiar with Swift. I'd suggest posting it to a Swift community and saying there what you're trying to change, as it's out of scope of an Onnxruntime issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1143048682/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]