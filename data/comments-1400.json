[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/511946853",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-511946853",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 511946853,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTk0Njg1Mw==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-16T19:09:35Z",
        "updated_at": "2019-07-16T19:09:35Z",
        "author_association": "MEMBER",
        "body": "Our cuda implementation for LSTM uses cudnn libray, it has some limitation: the sequences in the mini-batch need to be sorted in descending order according to length. refers to \r\nhttps://docs.nvidia.com/deeplearning/sdk/cudnn-developer-guide/index.html#cudnnRNNForwardInferenceEx\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/511946853/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/511980469",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-511980469",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 511980469,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTk4MDQ2OQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-16T20:49:35Z",
        "updated_at": "2019-07-16T20:49:35Z",
        "author_association": "NONE",
        "body": "Hi Hector, \r\n\r\n Thanks for your answer. I tried with sorted sequences as you suggested but the problem did not go away:\r\n\r\n```\r\nDiscrepancy between CPU and GPU evaluations.\r\nNumber of sequences in batch: 16\r\nSequence lengths: [64 60 56 52 48 44 40 36 32 28 24 20 16 12  8  4]\r\nTotal non zero elements: 21216\r\nMaximum absolute pairwise difference: 0.9727079272270203\r\nAverage absolute pairwise difference: 0.018673043804830376\r\n```\r\n\r\nHere you can find the model and the input/output tensors in case you need to take a look at them: \r\n[discrepancy_CPU_GPU_sorted.zip](https://github.com/microsoft/onnxruntime/files/3399061/discrepancy_CPU_GPU_sorted.zip)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/511980469/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512577932",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-512577932",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 512577932,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjU3NzkzMg==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-17T21:35:34Z",
        "updated_at": "2019-07-17T21:35:34Z",
        "author_association": "MEMBER",
        "body": "Root cause addressed, will send a PR.\r\n@xgirones By they way, Is it possible for us to put your model in our build pipeline to make sure no regression in future?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512577932/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512596381",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-512596381",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 512596381,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjU5NjM4MQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-17T22:47:06Z",
        "updated_at": "2019-07-17T22:47:06Z",
        "author_association": "NONE",
        "body": "This is great news, thanks!\r\n\r\n> @xgirones By they way, Is it possible for us to put your model in our build pipeline to make sure no regression in future?\r\n\r\nYes, of course. You can use it freely if you find it convenient. It is just a toy model I created to learn more about the best loss functions for sequences.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512596381/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512889758",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-512889758",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 512889758,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjg4OTc1OA==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-18T16:28:30Z",
        "updated_at": "2019-07-18T16:32:41Z",
        "author_association": "MEMBER",
        "body": "The fix is merged. Also sorted sequence_lengths is not a limitation any more. Your first model also works. I'll add them to our test pipeline.\r\nGreat thanks for your findings!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/512889758/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/513324821",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-513324821",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 513324821,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzMyNDgyMQ==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-19T18:10:10Z",
        "updated_at": "2019-07-19T18:10:10Z",
        "author_association": "MEMBER",
        "body": "@xgirones Do you mind to close the issue or you still need some verification?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/513324821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/513343395",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1400#issuecomment-513343395",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1400",
        "id": 513343395,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzM0MzM5NQ==",
        "user": {
            "login": "xgirones",
            "id": 30896820,
            "node_id": "MDQ6VXNlcjMwODk2ODIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30896820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xgirones",
            "html_url": "https://github.com/xgirones",
            "followers_url": "https://api.github.com/users/xgirones/followers",
            "following_url": "https://api.github.com/users/xgirones/following{/other_user}",
            "gists_url": "https://api.github.com/users/xgirones/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xgirones/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xgirones/subscriptions",
            "organizations_url": "https://api.github.com/users/xgirones/orgs",
            "repos_url": "https://api.github.com/users/xgirones/repos",
            "events_url": "https://api.github.com/users/xgirones/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xgirones/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-19T19:10:01Z",
        "updated_at": "2019-07-19T19:10:01Z",
        "author_association": "NONE",
        "body": "Closing it... Thanks for your help!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/513343395/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]