[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522219656",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-522219656",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 522219656,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjIxOTY1Ng==",
        "user": {
            "login": "abc3698",
            "id": 837374,
            "node_id": "MDQ6VXNlcjgzNzM3NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/837374?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abc3698",
            "html_url": "https://github.com/abc3698",
            "followers_url": "https://api.github.com/users/abc3698/followers",
            "following_url": "https://api.github.com/users/abc3698/following{/other_user}",
            "gists_url": "https://api.github.com/users/abc3698/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abc3698/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abc3698/subscriptions",
            "organizations_url": "https://api.github.com/users/abc3698/orgs",
            "repos_url": "https://api.github.com/users/abc3698/repos",
            "events_url": "https://api.github.com/users/abc3698/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abc3698/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-17T09:06:43Z",
        "updated_at": "2019-08-17T09:06:43Z",
        "author_association": "NONE",
        "body": "I have same problem.  Are there any solution to solve it?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522219656/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522377197",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-522377197",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 522377197,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjM3NzE5Nw==",
        "user": {
            "login": "linkerzhang",
            "id": 5194557,
            "node_id": "MDQ6VXNlcjUxOTQ1NTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5194557?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/linkerzhang",
            "html_url": "https://github.com/linkerzhang",
            "followers_url": "https://api.github.com/users/linkerzhang/followers",
            "following_url": "https://api.github.com/users/linkerzhang/following{/other_user}",
            "gists_url": "https://api.github.com/users/linkerzhang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/linkerzhang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/linkerzhang/subscriptions",
            "organizations_url": "https://api.github.com/users/linkerzhang/orgs",
            "repos_url": "https://api.github.com/users/linkerzhang/repos",
            "events_url": "https://api.github.com/users/linkerzhang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/linkerzhang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-19T01:07:53Z",
        "updated_at": "2019-08-19T01:35:05Z",
        "author_association": "CONTRIBUTOR",
        "body": "Thank you for sending the great feedback! ORT is not supporting using multiple GPUs well in inference right now. We'll add the support later and update this issue once it's well supported.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522377197/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522785210",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-522785210",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 522785210,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjc4NTIxMA==",
        "user": {
            "login": "GuanLuo",
            "id": 41310872,
            "node_id": "MDQ6VXNlcjQxMzEwODcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/41310872?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GuanLuo",
            "html_url": "https://github.com/GuanLuo",
            "followers_url": "https://api.github.com/users/GuanLuo/followers",
            "following_url": "https://api.github.com/users/GuanLuo/following{/other_user}",
            "gists_url": "https://api.github.com/users/GuanLuo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GuanLuo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GuanLuo/subscriptions",
            "organizations_url": "https://api.github.com/users/GuanLuo/orgs",
            "repos_url": "https://api.github.com/users/GuanLuo/repos",
            "events_url": "https://api.github.com/users/GuanLuo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GuanLuo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-19T22:57:51Z",
        "updated_at": "2019-08-19T22:57:51Z",
        "author_association": "NONE",
        "body": "Is there an ETA for fixing this particular operator? This is breaking the models that were okay with multi-GPU previously...",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/522785210/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531039473",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-531039473",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 531039473,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTAzOTQ3Mw==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-12T23:05:42Z",
        "updated_at": "2019-09-12T23:05:42Z",
        "author_association": "MEMBER",
        "body": "I've merged my pull request to master. With this change you can run a model on a device other than device 0. But it's still not possible to run multiple model in same thread but on different device, because the cudaSetDevice works with thread scope. more details refer to this link:\r\nhttps://devblogs.nvidia.com/cuda-pro-tip-always-set-current-device-avoid-multithreading-bugs/\r\n\r\nso, from your sample code, there's a session using device 0, then another session using device 1. When the program runs, it will use device 1 for these 2 sessions finally. To make it able to run on different device within same thread, there are more work to be done. e.g. need to re-call cudaSetDevice before every cuda kernel and cuda allocator.\r\n\r\nFor now, you can create and run different session in different threads, that is no problem.\r\n\r\nLet us know if you still have some concerns on this.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531039473/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531042157",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-531042157",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 531042157,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTA0MjE1Nw==",
        "user": {
            "login": "GuanLuo",
            "id": 41310872,
            "node_id": "MDQ6VXNlcjQxMzEwODcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/41310872?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GuanLuo",
            "html_url": "https://github.com/GuanLuo",
            "followers_url": "https://api.github.com/users/GuanLuo/followers",
            "following_url": "https://api.github.com/users/GuanLuo/following{/other_user}",
            "gists_url": "https://api.github.com/users/GuanLuo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GuanLuo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GuanLuo/subscriptions",
            "organizations_url": "https://api.github.com/users/GuanLuo/orgs",
            "repos_url": "https://api.github.com/users/GuanLuo/repos",
            "events_url": "https://api.github.com/users/GuanLuo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GuanLuo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-12T23:19:04Z",
        "updated_at": "2019-09-12T23:19:04Z",
        "author_association": "NONE",
        "body": "Thanks for the fix, I will try it out later and close the issue.\r\n\r\nAnd regarding the multiple devices issue you pointed out, does this [workaround](https://github.com/microsoft/onnxruntime/issues/1034#issuecomment-497184636) work the same as \"create and run different session in different threads\"? In this workaround, I will create the sessions in different threads, but I will only use one thread to distribute requests to different sessions.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531042157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531044503",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-531044503",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 531044503,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTA0NDUwMw==",
        "user": {
            "login": "HectorSVC",
            "id": 29932710,
            "node_id": "MDQ6VXNlcjI5OTMyNzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/29932710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HectorSVC",
            "html_url": "https://github.com/HectorSVC",
            "followers_url": "https://api.github.com/users/HectorSVC/followers",
            "following_url": "https://api.github.com/users/HectorSVC/following{/other_user}",
            "gists_url": "https://api.github.com/users/HectorSVC/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HectorSVC/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HectorSVC/subscriptions",
            "organizations_url": "https://api.github.com/users/HectorSVC/orgs",
            "repos_url": "https://api.github.com/users/HectorSVC/repos",
            "events_url": "https://api.github.com/users/HectorSVC/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HectorSVC/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-12T23:30:10Z",
        "updated_at": "2019-09-12T23:30:10Z",
        "author_association": "MEMBER",
        "body": "Yes, that should work fine.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531044503/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531911942",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/1592#issuecomment-531911942",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/1592",
        "id": 531911942,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTkxMTk0Mg==",
        "user": {
            "login": "GuanLuo",
            "id": 41310872,
            "node_id": "MDQ6VXNlcjQxMzEwODcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/41310872?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GuanLuo",
            "html_url": "https://github.com/GuanLuo",
            "followers_url": "https://api.github.com/users/GuanLuo/followers",
            "following_url": "https://api.github.com/users/GuanLuo/following{/other_user}",
            "gists_url": "https://api.github.com/users/GuanLuo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GuanLuo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GuanLuo/subscriptions",
            "organizations_url": "https://api.github.com/users/GuanLuo/orgs",
            "repos_url": "https://api.github.com/users/GuanLuo/repos",
            "events_url": "https://api.github.com/users/GuanLuo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GuanLuo/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-09-16T18:59:27Z",
        "updated_at": "2019-09-16T18:59:27Z",
        "author_association": "NONE",
        "body": "@HectorSVC Thanks, I have verified that the issue is fixed, closing the issue now. By the way, it seems like multi-GPU work without using the workaround: I created sessions for the same model on different GPUs and send requests to them, the GPU memory usage and utilization increases roughly the same amount on both GPUs",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/531911942/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]