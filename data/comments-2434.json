[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555637220",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-555637220",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 555637220,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTYzNzIyMA==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-11-19T18:14:49Z",
        "updated_at": "2019-11-19T18:14:49Z",
        "author_association": "MEMBER",
        "body": "As stated in another [issue](https://github.com/microsoft/onnxruntime/issues/2404#issuecomment-554593653), have you ruled out the fact that your input is already on the GPU (```    input_tensor = input_tensor.cuda()```)?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555637220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555809376",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-555809376",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 555809376,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTgwOTM3Ng==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-11-20T02:39:18Z",
        "updated_at": "2019-11-20T02:39:18Z",
        "author_association": "NONE",
        "body": "@pranavsharma \r\n\r\nI have used [inference_session_test.cc](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/test/framework/inference_session_test.cc) to test my model, input and output are already on the GPU. Forward takes `378us`, which is similar with python demo (390us).\r\n\r\n    1: [ RUN      ] InferenceSessionTests.TestIssue2434\r\n    1: Elapsed time in microseconds : 378 µs\r\n    1: Elapsed time in milliseconds : 0 ms\r\n\r\nIf remove the `topk` operator from model, forward only takes `26us`. \r\n\r\n    1: [ RUN      ] InferenceSessionTests.TestIssue2434\r\n    1: Elapsed time in microseconds : 26 µs\r\n    1: Elapsed time in milliseconds : 0 ms\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555809376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555863206",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-555863206",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 555863206,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU1NTg2MzIwNg==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-11-20T06:43:13Z",
        "updated_at": "2019-11-20T06:43:13Z",
        "author_association": "NONE",
        "body": "Pytorch' `topk` only takes about 24us in this case.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/555863206/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/560170093",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-560170093",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 560170093,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2MDE3MDA5Mw==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-01T22:52:40Z",
        "updated_at": "2019-12-01T22:52:40Z",
        "author_association": "MEMBER",
        "body": "How did you establish that all nodes were on GPU? There was no CUDA implementation of TopK in v1 of ONNX Runtime. It was added November 1, and with that I see a different issue that causes it to fail (looking into that, but it's a memory issue not performance once).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/560170093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/560189806",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-560189806",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 560189806,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2MDE4OTgwNg==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-02T01:34:16Z",
        "updated_at": "2019-12-02T01:34:16Z",
        "author_association": "NONE",
        "body": "I tested this model with python api, and set `onnxruntime.set_default_logger_severity(0)`, output log as below:\r\n```\r\n2019-12-02 09:27:02.221911922 [V:onnxruntime:, inference_session.cc:442 TransformGraph] Node placements\r\n2019-12-02 09:27:02.221916684 [V:onnxruntime:, inference_session.cc:444 TransformGraph] All nodes have been placed on [CUDAExecutionProvider].\r\n2019-12-02 09:27:02.221946426 [I:onnxruntime:, session_state.cc:22 SetGraph] SaveMLValueNameIndexMapping\r\n2019-12-02 09:27:02.221955692 [I:onnxruntime:, session_state.cc:67 SetGraph] Done saving OrtValue mappings.\r\n```\r\nIt shows that all nodes have been placed on GPU.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/560189806/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/561004758",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-561004758",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 561004758,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTAwNDc1OA==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-03T05:26:10Z",
        "updated_at": "2019-12-03T05:26:10Z",
        "author_association": "MEMBER",
        "body": "https://github.com/microsoft/onnxruntime/pull/2523 will address the memory issue. Not sure if it will have a significant impact on performance.\r\n\r\nThe current TopK implementation does a full sort of the data. Something like https://github.com/facebook/fbcuda/blob/master/TopK.cuh could be considered. @RandySheriffH \r\n\r\nhttps://github.com/anilshanbhag/gpu-topk has some additional options but doesn't support key-value yet.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/561004758/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/561381729",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-561381729",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 561381729,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTM4MTcyOQ==",
        "user": {
            "login": "RandySheriffH",
            "id": 48490400,
            "node_id": "MDQ6VXNlcjQ4NDkwNDAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/48490400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandySheriffH",
            "html_url": "https://github.com/RandySheriffH",
            "followers_url": "https://api.github.com/users/RandySheriffH/followers",
            "following_url": "https://api.github.com/users/RandySheriffH/following{/other_user}",
            "gists_url": "https://api.github.com/users/RandySheriffH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RandySheriffH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RandySheriffH/subscriptions",
            "organizations_url": "https://api.github.com/users/RandySheriffH/orgs",
            "repos_url": "https://api.github.com/users/RandySheriffH/repos",
            "events_url": "https://api.github.com/users/RandySheriffH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RandySheriffH/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-03T22:15:00Z",
        "updated_at": "2019-12-04T19:34:04Z",
        "author_association": "MEMBER",
        "body": "The fix helps with perf already by trimming off cuda threads:\r\n![image](https://user-images.githubusercontent.com/48490400/70094290-143e4a80-15d7-11ea-9807-2a86529232e2.png)\r\nI am with GTX 1050 Ti. @TianzhongSong , would u mind try on your end?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/561381729/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/562045023",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-562045023",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 562045023,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjA0NTAyMw==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-05T09:27:24Z",
        "updated_at": "2019-12-05T09:27:24Z",
        "author_association": "NONE",
        "body": "Hi, i have tried again, but the speed of `topk` has no change.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/562045023/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/562741509",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-562741509",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 562741509,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2Mjc0MTUwOQ==",
        "user": {
            "login": "RandySheriffH",
            "id": 48490400,
            "node_id": "MDQ6VXNlcjQ4NDkwNDAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/48490400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RandySheriffH",
            "html_url": "https://github.com/RandySheriffH",
            "followers_url": "https://api.github.com/users/RandySheriffH/followers",
            "following_url": "https://api.github.com/users/RandySheriffH/following{/other_user}",
            "gists_url": "https://api.github.com/users/RandySheriffH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RandySheriffH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RandySheriffH/subscriptions",
            "organizations_url": "https://api.github.com/users/RandySheriffH/orgs",
            "repos_url": "https://api.github.com/users/RandySheriffH/repos",
            "events_url": "https://api.github.com/users/RandySheriffH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RandySheriffH/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-06T21:21:50Z",
        "updated_at": "2019-12-16T20:34:54Z",
        "author_association": "MEMBER",
        "body": "Implementing http://anilshanbhag.in/static/papers/gputopk_sigmod18.pdf\r\nPrototype done - https://github.com/microsoft/onnxruntime/tree/rashuai/BoostTopK\r\nRefactoring with more tests.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/562741509/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/568624464",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-568624464",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 568624464,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODYyNDQ2NA==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-24T01:52:03Z",
        "updated_at": "2019-12-24T01:52:03Z",
        "author_association": "NONE",
        "body": "@RandySheriffH Awesome job, speed of `topk` has been greatly improved. Thank you.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/568624464/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/568663548",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-568663548",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 568663548,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU2ODY2MzU0OA==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-12-24T06:02:05Z",
        "updated_at": "2019-12-24T06:02:05Z",
        "author_association": "NONE",
        "body": "@RandySheriffH \r\n\r\nReturns wrong results when the size of the given dimension is too large.\r\n\r\nPytorch script:\r\n\r\n    import torch\r\n    import torch.nn as nn\r\n    import numpy as np\r\n\r\n    class Model(nn.Module):\r\n        def __init__(self, k=3):\r\n            super(Model, self).__init__()\r\n            self.k = k\r\n\r\n        def forward(self, x):\r\n            v, ind = x.topk(self.k, dim=1)\r\n            return v, ind\r\n\r\n    model = Model()\r\n\r\n    data = np.zeros((1, 1000), dtype=np.float32)\r\n    data[0, 0:6] = np.array([0.1, 0.3, 0.02, 0.45, 0.08, 0.05])\r\n    data = torch.from_numpy(data)\r\n\r\n    score, index = model(data)\r\n    print(score)\r\n    print(index)\r\n\r\n    torch.onnx.export(model, data, \"topk.onnx\",\r\n                      opset_version=11,\r\n                      verbose=False,\r\n                      input_names=['data'],\r\n                      output_names=['score', 'index'],\r\n                      dynamic_axes={'data': {0: 'batch', 1: 'channel'},\r\n                                    'score': {0: 'batch', 1: 'channel'},\r\n                                    'index': {0: 'batch', 1: 'channel'}})\r\n\r\nonnxruntime script:\r\n\r\n    import onnxruntime as ort\r\n    import numpy as np\r\n\r\n    print(ort.get_device())\r\n\r\n    model = 'topk.onnx'\r\n\r\n    sess = ort.InferenceSession(model)\r\n\r\n    data = np.zeros((1, 1000), dtype=np.float32)\r\n    data[:, 0:6] = np.array([0.1, 0.3, 0.02, 0.45, 0.08, 0.05])\r\n\r\n    inputs = {'data': data}\r\n\r\n    score, index = sess.run(['score', 'index'], inputs)\r\n    print(score)\r\n    print(index)\r\n\r\nPytorch output:\r\n    tensor([[0.4500, 0.3000, 0.1000]])\r\n    tensor([[3, 1, 0]])\r\n\r\nORT output:\r\n    [[0. 0. 0.]]\r\n    [[0 0 0]]\r\n\r\nNow, changing the size of dimension 1: `data = np.zeros((1, 500), dtype=np.float32)`, ORT output as below:\r\n[[0.45 0.3  0.1 ]]\r\n[[3 1 0]]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/568663548/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/572919031",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-572919031",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 572919031,
        "node_id": "MDEyOklzc3VlQ29tbWVudDU3MjkxOTAzMQ==",
        "user": {
            "login": "TianzhongSong",
            "id": 23410197,
            "node_id": "MDQ6VXNlcjIzNDEwMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23410197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TianzhongSong",
            "html_url": "https://github.com/TianzhongSong",
            "followers_url": "https://api.github.com/users/TianzhongSong/followers",
            "following_url": "https://api.github.com/users/TianzhongSong/following{/other_user}",
            "gists_url": "https://api.github.com/users/TianzhongSong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TianzhongSong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TianzhongSong/subscriptions",
            "organizations_url": "https://api.github.com/users/TianzhongSong/orgs",
            "repos_url": "https://api.github.com/users/TianzhongSong/repos",
            "events_url": "https://api.github.com/users/TianzhongSong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TianzhongSong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-01-10T08:03:15Z",
        "updated_at": "2020-01-10T08:03:15Z",
        "author_association": "NONE",
        "body": "Issue has been fixed. Close this issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/572919031/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739870365",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/2434#issuecomment-739870365",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/2434",
        "id": 739870365,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTg3MDM2NQ==",
        "user": {
            "login": "Edwardmark",
            "id": 15247551,
            "node_id": "MDQ6VXNlcjE1MjQ3NTUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/15247551?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Edwardmark",
            "html_url": "https://github.com/Edwardmark",
            "followers_url": "https://api.github.com/users/Edwardmark/followers",
            "following_url": "https://api.github.com/users/Edwardmark/following{/other_user}",
            "gists_url": "https://api.github.com/users/Edwardmark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Edwardmark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Edwardmark/subscriptions",
            "organizations_url": "https://api.github.com/users/Edwardmark/orgs",
            "repos_url": "https://api.github.com/users/Edwardmark/repos",
            "events_url": "https://api.github.com/users/Edwardmark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Edwardmark/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T11:52:07Z",
        "updated_at": "2020-12-07T11:52:07Z",
        "author_association": "NONE",
        "body": "@TianzhongSong How you fixed it?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739870365/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]