[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605704843",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605704843",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605704843,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTcwNDg0Mw==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-29T21:30:37Z",
        "updated_at": "2020-03-29T21:32:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "On CentOS, even cmake 3.16.5 doesn't work.\r\nFailed with\r\n```\r\nRun Build Command(s):/usr/bin/ninja-build cmTC_d4ffc && [1/2] Building CUDA object CMakeFiles/cmTC_d4ffc.dir/main.cu.o\r\n[2/2] Linking CUDA executable cmTC_d4ffc\r\nFAILED: cmTC_d4ffc\r\n: && /opt/rh/devtoolset-8/root/usr/bin/g++  CMakeFiles/cmTC_d4ffc.dir/main.cu.o -o cmTC_d4ffc  -lcudadevrt  -lcudart_static -L\"/usr/local/cuda/targets/x86_64-linux/lib/stubs\" -L\"/usr/local/cuda/targets/x86_64-linux/lib\" -lcudadevrt -lcudart && :\r\n/opt/rh/devtoolset-8/root/usr/libexec/gcc/x86_64-redhat-linux/8/ld: /usr/local/cuda/targets/x86_64-linux/lib/libcudart_static.a(libcudart_static.a.o): undefined reference to symbol 'dlclose@@GLIBC_2.2.5'\r\n//lib64/libdl.so.2: error adding symbols: DSO missing from command line\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n<img width=\"1055\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5203025/77861430-72a6cd00-7247-11ea-8754-f192b66bd7c7.png\">\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605704843/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605710246",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605710246",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605710246,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTcxMDI0Ng==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-29T22:15:33Z",
        "updated_at": "2020-03-29T22:15:58Z",
        "author_association": "CONTRIBUTOR",
        "body": "CMake 3.16.4 works for CentOS, there're a lot of CUDA related changes from 3.16.2 to 3.17.0.\r\nI think most related entries are:\r\n\r\nhttps://blog.kitware.com/cmake-3-16-5-available-for-download/\r\n> Ninja: Do not use nvcc response files with non-nvcc tools\r\n\r\nhttps://blog.kitware.com/cmake-3-17-0-available-for-download/\r\n> The \"CMAKE_CUDA_RUNTIME_LIBRARY\" variable and \"CUDA_RUNTIME_LIBRARY\" target property were introduced to select the CUDA runtime library used when linking targets that use CUDA.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605710246/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605763690",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605763690",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605763690,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTc2MzY5MA==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-30T03:31:38Z",
        "updated_at": "2020-03-30T03:43:24Z",
        "author_association": "MEMBER",
        "body": "https://github.com/microsoft/onnxruntime/blob/3bdb0b620aaf726a67049886fec44b623dbc85b2/cmake/CMakeLists.txt#L709-L714\r\n> \r\n> With the newly introduced `CMAKE_CUDA_RUNTIME_LIBRARY`, this UB may not work anymore.\r\n> \r\n> Also tested with 3.16.5, works fine.\r\n> \r\n> **Urgency**\r\n> \r\n> Build is blocked by this.\r\n> \r\n> **System information**\r\n> \r\n> * OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n> * ONNX Runtime installed from (source or binary): source\r\n> * ONNX Runtime version: 1.2.0\r\n> * Python version: 3.6\r\n> * GCC/Compiler version (if compiling from source): CMake 3.17.0 + Ninja + gcc 8.3.0\r\n> * CUDA/cuDNN version: 10.2.89\r\n\r\nyes, there's a problem starting with cmake 3.17 \r\n\r\nTo make the build succeed, \r\nreplace the following line in onnxruntime/cmake/CMakeLists.txt\r\nstring(APPEND CMAKE_CUDA_FLAGS \"-cudart shared\")\r\nwith\r\nset(CMAKE_CUDA_RUNTIME_LIBRARY Shared)\r\nand the CUDA compiler check should succeed.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605763690/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605763947",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605763947",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605763947,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTc2Mzk0Nw==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-30T03:32:38Z",
        "updated_at": "2020-03-30T03:43:44Z",
        "author_association": "MEMBER",
        "body": "> \r\n> yes, there's a problem starting with cmake 3.17\r\n> \r\n> To make the build succeed,\r\n> replace the following line in onnxruntime/cmake/CMakeLists.txt\r\n> string(APPEND CMAKE_CUDA_FLAGS \"-cudart shared\")\r\n> with\r\n> set(CMAKE_CUDA_RUNTIME_LIBRARY Shared)\r\n> and the CUDA compiler check should succeed.\r\n\r\nwe will try to get this fix checked in. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605763947/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605935203",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605935203",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605935203,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTkzNTIwMw==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-30T11:06:48Z",
        "updated_at": "2020-03-30T11:06:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "@jywu-msft Could you check CMake 3.16.5? That also failed on CentOS 7.\r\n(Well this is not urgent for me since I prefer the latest, but could we problematic for others.)\r\n\r\nAlso, would be nice if it can be cherry-picked to release versions.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605935203/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605940679",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605940679",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605940679,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTk0MDY3OQ==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-30T11:19:46Z",
        "updated_at": "2020-03-30T11:19:46Z",
        "author_association": "MEMBER",
        "body": "> @jywu-msft Could you check CMake 3.16.5? That also failed on CentOS 7.\r\n> (Well this is not urgent for me since I prefer the latest, but could we problematic for others.)\r\n> \r\n> Also, would be nice if it can be cherry-picked to release versions.\r\n\r\nCMAKE_CUDA_RUNTIME_LIBRARY was added in https://gitlab.kitware.com/cmake/cmake/-/commit/1f9321c68399c8cc37a2cb9c78ef45949412bd7b\r\n\r\nIt doesn't exist in cmake 3.16.5\r\ne.g.\r\nhttps://gitlab.kitware.com/cmake/cmake/-/blob/v3.16.5/Modules/Compiler/NVIDIA-CUDA.cmake\r\n\r\nSo it must be a different issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605940679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605949461",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3355#issuecomment-605949461",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3355",
        "id": 605949461,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTk0OTQ2MQ==",
        "user": {
            "login": "xkszltl",
            "id": 5203025,
            "node_id": "MDQ6VXNlcjUyMDMwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5203025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xkszltl",
            "html_url": "https://github.com/xkszltl",
            "followers_url": "https://api.github.com/users/xkszltl/followers",
            "following_url": "https://api.github.com/users/xkszltl/following{/other_user}",
            "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions",
            "organizations_url": "https://api.github.com/users/xkszltl/orgs",
            "repos_url": "https://api.github.com/users/xkszltl/repos",
            "events_url": "https://api.github.com/users/xkszltl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xkszltl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-03-30T11:40:49Z",
        "updated_at": "2020-03-30T11:40:49Z",
        "author_association": "CONTRIBUTOR",
        "body": "Verified that CentOS 7 + CMake 3.17 + Ort master works.\r\nSo that may caused by the same issue.\r\n\r\nMaybe there's a gap where Ort's hack doesn't work but the official way hasn't come?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/605949461/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]