[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/625553291",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3808#issuecomment-625553291",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3808",
        "id": 625553291,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTU1MzI5MQ==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-07T23:49:47Z",
        "updated_at": "2020-05-07T23:49:47Z",
        "author_association": "MEMBER",
        "body": "Typically (at least in my experience) onnx models have very few items in GraphProto::value_info as it's optional to add values there, and doing so makes a model larger. \r\n\r\n```\r\n  // Information for the values in the graph. The ValueInfoProto.name's\r\n  // must be distinct. It is optional for a value to appear in value_info list.\r\n  repeated ValueInfoProto value_info = 13;\r\n\r\n```\r\n\r\nAdditionally any shape information in the value_info items is likely to be ignored/overwritten anyway as type and shape inferencing is run when the model is loaded.\r\n\r\nAs we don't want to unnecessarily increase the saved model size I'm not sure that we should arbitrarily add new items to value_info.\r\n\r\nCan you clarify what you're wanting to do? You've mentioned internals to the Graph class (the NodeArg instances in Graph::value_info_), Netron (viewing the saved onnx model which would involve onnx GraphProto) and python.\r\n\r\nIf viewing info in python (assuming you're using the 'onnx' module to look for shapes of internal values) have you tried running the ONNX shape inferencing on the model after loading it? https://github.com/onnx/onnx/blob/master/docs/PythonAPIOverview.md#running-shape-inference-on-an-onnx-model\r\n\r\nAlternatively the onnxruntime core\\providers\\nuphar\\scripts\\symbolic_shape_infer.py script may be able to run more advanced shape inferencing and save the onnx model with GraphProto::value_info more fully populated if it supports the operators in your model.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/625553291/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/626532662",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3808#issuecomment-626532662",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3808",
        "id": 626532662,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjUzMjY2Mg==",
        "user": {
            "login": "engdorm",
            "id": 20448411,
            "node_id": "MDQ6VXNlcjIwNDQ4NDEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/20448411?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/engdorm",
            "html_url": "https://github.com/engdorm",
            "followers_url": "https://api.github.com/users/engdorm/followers",
            "following_url": "https://api.github.com/users/engdorm/following{/other_user}",
            "gists_url": "https://api.github.com/users/engdorm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/engdorm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/engdorm/subscriptions",
            "organizations_url": "https://api.github.com/users/engdorm/orgs",
            "repos_url": "https://api.github.com/users/engdorm/repos",
            "events_url": "https://api.github.com/users/engdorm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/engdorm/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-11T07:47:11Z",
        "updated_at": "2020-05-11T07:47:11Z",
        "author_association": "NONE",
        "body": "I'm trying to add new Node, whereas I wrote new scheme for it and filled out TypeAndShapeInferenceFunction,\r\nThe new node is added in a new pass (GraphTransformer)\r\nAnd when I run the OnnxRunTime through python (onnxruntime::InferenceSession)\r\nI get the shapes while cpp is running in the NodeArg\r\nBut I can't get them in back in the onnx model, \r\nAnd of course, can't present them in Netron\r\n\r\nBecause I didn't add it to the onnx and rebuild it, \r\nEven when I try to use onnx::shape_inference\r\nIt won't add the shapes\r\n\r\nI saw that in graph.cc in [ToGraphProtoInternal](https://github.com/microsoft/onnxruntime/blob/master/onnxruntime/core/graph/graph.cc#L2563)\r\n you copy back value_info to the graph,\r\nalthough it didn't change\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/626532662/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/656962706",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3808#issuecomment-656962706",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3808",
        "id": 656962706,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY1Njk2MjcwNg==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-07-11T01:40:27Z",
        "updated_at": "2020-07-11T01:40:27Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/656962706/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/690863453",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3808#issuecomment-690863453",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3808",
        "id": 690863453,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5MDg2MzQ1Mw==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-09-11T04:15:39Z",
        "updated_at": "2020-09-11T04:15:39Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/690863453/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695716958",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/3808#issuecomment-695716958",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/3808",
        "id": 695716958,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY5NTcxNjk1OA==",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2020-09-20T04:40:25Z",
        "updated_at": "2020-09-20T04:40:25Z",
        "author_association": "NONE",
        "body": "This issue has been automatically closed due to inactivity. Please reactivate if further support is needed.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/695716958/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]