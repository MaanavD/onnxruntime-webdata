[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635483445",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635483445",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635483445,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTQ4MzQ0NQ==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-28T17:17:56Z",
        "updated_at": "2020-05-28T17:17:56Z",
        "author_association": "MEMBER",
        "body": "The official package has openmp. When you build from source by yourself I guess you didn't append \"--use_openmp\" to the build script?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635483445/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635673954",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635673954",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635673954,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTY3Mzk1NA==",
        "user": {
            "login": "mejas",
            "id": 5220815,
            "node_id": "MDQ6VXNlcjUyMjA4MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5220815?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mejas",
            "html_url": "https://github.com/mejas",
            "followers_url": "https://api.github.com/users/mejas/followers",
            "following_url": "https://api.github.com/users/mejas/following{/other_user}",
            "gists_url": "https://api.github.com/users/mejas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mejas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mejas/subscriptions",
            "organizations_url": "https://api.github.com/users/mejas/orgs",
            "repos_url": "https://api.github.com/users/mejas/repos",
            "events_url": "https://api.github.com/users/mejas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mejas/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-28T23:42:10Z",
        "updated_at": "2020-05-28T23:42:10Z",
        "author_association": "NONE",
        "body": "> The official package has openmp. When you build from source by yourself I guess you didn't append \"--use_openmp\" to the build script?\r\n\r\nI did not append the OpenMP flag to the build script. Is this now a requirement for the runtime?\r\n\r\nI used the following for building from source:\r\n`.\\build.bat --config Release --build_shared_lib --parallel --build-csharp`\r\n\r\nI do find it odd that 1.2.0 did not have this problem. Upgrading to 1.3.0 was when the issue started to happen.\r\n\r\nA little further digging around: using the 1.2.0 `onnxruntime.dll` does not cause the problem as well.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635673954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635679429",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635679429",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635679429,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTY3OTQyOQ==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T00:01:07Z",
        "updated_at": "2020-05-29T00:01:07Z",
        "author_association": "MEMBER",
        "body": "I was trying to explain the difference, why \"This does not happen when building from source.\".\r\n\r\nIf you can build it from source with\r\n```\r\n.\\build.bat --config RelWithDebInfo --build_shared_lib --parallel --build-csharp --use_openmp\r\n```\r\nAnd repro the bug with newly built binary, it would be easier for us to know why it crashed.\r\n\r\n> Is this now a requirement for the runtime?\r\n\r\nNo. It is totally fine to live without it. \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635679429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635693628",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635693628",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635693628,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTY5MzYyOA==",
        "user": {
            "login": "mejas",
            "id": 5220815,
            "node_id": "MDQ6VXNlcjUyMjA4MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5220815?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mejas",
            "html_url": "https://github.com/mejas",
            "followers_url": "https://api.github.com/users/mejas/followers",
            "following_url": "https://api.github.com/users/mejas/following{/other_user}",
            "gists_url": "https://api.github.com/users/mejas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mejas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mejas/subscriptions",
            "organizations_url": "https://api.github.com/users/mejas/orgs",
            "repos_url": "https://api.github.com/users/mejas/repos",
            "events_url": "https://api.github.com/users/mejas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mejas/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T00:49:55Z",
        "updated_at": "2020-05-29T00:49:55Z",
        "author_association": "NONE",
        "body": "Thanks for the recommendation. I built from source with the switches you suggested and was able to replicate the crashing behavior.\r\n\r\nExact switch used:\r\n`.\\build.bat --config RelWithDebInfo --build_shared_lib --parallel --build_csharp --use_openmp --cmake_generator \"Visual Studio 16 2019\"`\r\n\r\nOddly enough there's no exceptions happening and just an explicit crash, but it does look like OpenMP is the culprit.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635693628/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635701531",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635701531",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635701531,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTcwMTUzMQ==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T01:18:17Z",
        "updated_at": "2020-05-29T01:18:17Z",
        "author_association": "MEMBER",
        "body": "I used this sample code https://gist.github.com/pranavsharma/66186e986101022a7bb43201cd1e685e and tried it on my machine using the published pkg on Nuget and couldn't replicate. Here's my csproj file https://gist.github.com/pranavsharma/4d7d0b3964e0386295ed6362636452cf and I'm using\r\n\r\nMicrosoft Visual Studio Community 2019\r\nVersion 16.6.0\r\nVisualStudio.16.Release/16.6.0+30114.105\r\nMicrosoft .NET Framework\r\nVersion 4.8.03752",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635701531/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635702276",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635702276",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635702276,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTcwMjI3Ng==",
        "user": {
            "login": "mejas",
            "id": 5220815,
            "node_id": "MDQ6VXNlcjUyMjA4MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5220815?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mejas",
            "html_url": "https://github.com/mejas",
            "followers_url": "https://api.github.com/users/mejas/followers",
            "following_url": "https://api.github.com/users/mejas/following{/other_user}",
            "gists_url": "https://api.github.com/users/mejas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mejas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mejas/subscriptions",
            "organizations_url": "https://api.github.com/users/mejas/orgs",
            "repos_url": "https://api.github.com/users/mejas/repos",
            "events_url": "https://api.github.com/users/mejas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mejas/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T01:20:54Z",
        "updated_at": "2020-05-29T01:20:54Z",
        "author_association": "NONE",
        "body": "Thanks @pranavsharma\r\nI noticed that line 30 sets `InterOpNumThreads` and not `IntraOpNumThreads`\r\nCould you try setting `IntraOpNumThreads` to 1?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635702276/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635714467",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635714467",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635714467,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTcxNDQ2Nw==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T02:06:53Z",
        "updated_at": "2020-05-29T02:06:53Z",
        "author_association": "MEMBER",
        "body": "Yes, I can repro.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635714467/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635727485",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635727485",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635727485,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTcyNzQ4NQ==",
        "user": {
            "login": "mejas",
            "id": 5220815,
            "node_id": "MDQ6VXNlcjUyMjA4MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5220815?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mejas",
            "html_url": "https://github.com/mejas",
            "followers_url": "https://api.github.com/users/mejas/followers",
            "following_url": "https://api.github.com/users/mejas/following{/other_user}",
            "gists_url": "https://api.github.com/users/mejas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mejas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mejas/subscriptions",
            "organizations_url": "https://api.github.com/users/mejas/orgs",
            "repos_url": "https://api.github.com/users/mejas/repos",
            "events_url": "https://api.github.com/users/mejas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mejas/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T02:55:36Z",
        "updated_at": "2020-05-29T02:55:36Z",
        "author_association": "NONE",
        "body": "Just to help a bit, I tried debugging deeper by enabling native code debugging in Visual Studio and found the following in the stack before the error was thrown:\r\n\r\n![image](https://user-images.githubusercontent.com/5220815/83215987-caf04180-a19a-11ea-9abe-9033cca45002.png)\r\n\r\nThe file in the stack is `abi_session_options.cc`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635727485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635740611",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635740611",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635740611,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTc0MDYxMQ==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T03:44:18Z",
        "updated_at": "2020-05-29T06:13:09Z",
        "author_association": "MEMBER",
        "body": "Btw, when openmp is enabled calling this method has no effect. So if this is blocking you, you can safely comment out the setting of options.IntraOpNumThreads in your C# code. The number of intra op threads are controlled using the openmp settings when openmp is enabled. See release notes https://github.com/microsoft/onnxruntime/releases/tag/v1.3.0.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635740611/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635788552",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4070#issuecomment-635788552",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4070",
        "id": 635788552,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTc4ODU1Mg==",
        "user": {
            "login": "mejas",
            "id": 5220815,
            "node_id": "MDQ6VXNlcjUyMjA4MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5220815?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mejas",
            "html_url": "https://github.com/mejas",
            "followers_url": "https://api.github.com/users/mejas/followers",
            "following_url": "https://api.github.com/users/mejas/following{/other_user}",
            "gists_url": "https://api.github.com/users/mejas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mejas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mejas/subscriptions",
            "organizations_url": "https://api.github.com/users/mejas/orgs",
            "repos_url": "https://api.github.com/users/mejas/repos",
            "events_url": "https://api.github.com/users/mejas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mejas/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T06:34:04Z",
        "updated_at": "2020-05-29T06:34:04Z",
        "author_association": "NONE",
        "body": "Thanks. I have commented out the code and proceeded with this as a temporary workaround.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/635788552/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]