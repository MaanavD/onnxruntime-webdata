[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/666800568",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-666800568",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 666800568,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY2NjgwMDU2OA==",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-07-31T00:03:09Z",
        "updated_at": "2020-07-31T00:03:09Z",
        "author_association": "MEMBER",
        "body": "@fs-eire to help run the notebook in Macbook to see whether it could reproduce the issue.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/666800568/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/668743039",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-668743039",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 668743039,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODc0MzAzOQ==",
        "user": {
            "login": "salimmj",
            "id": 22433912,
            "node_id": "MDQ6VXNlcjIyNDMzOTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/22433912?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/salimmj",
            "html_url": "https://github.com/salimmj",
            "followers_url": "https://api.github.com/users/salimmj/followers",
            "following_url": "https://api.github.com/users/salimmj/following{/other_user}",
            "gists_url": "https://api.github.com/users/salimmj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/salimmj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/salimmj/subscriptions",
            "organizations_url": "https://api.github.com/users/salimmj/orgs",
            "repos_url": "https://api.github.com/users/salimmj/repos",
            "events_url": "https://api.github.com/users/salimmj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/salimmj/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-04T18:02:27Z",
        "updated_at": "2020-08-04T18:02:27Z",
        "author_association": "NONE",
        "body": "Additional note: ONNX performs slightly better than PyTorch (by ~5-10%) when `intra_num_threads` is unspecified.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/668743039/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/670249544",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-670249544",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 670249544,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3MDI0OTU0NA==",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-07T00:04:08Z",
        "updated_at": "2020-08-07T00:04:08Z",
        "author_association": "MEMBER",
        "body": "@salimmj, thanks for reporting the issue.\r\n\r\n@fs-eire reproduced the issue in one mac notebook. It seems that onnxruntime is not built with openmp (looks like an issue of mac build pipeline). \r\n\r\nThe best setting for BERT on onnxruntime 1.3.0 and 1.4.0 for Mac:\r\n   intra_num_threads = (unspecified, or number of physical/logical cores)\r\nand no need to set OMP_NUM_THREAD.\r\n\r\nI'll update the notebook so that it could also get expected results on Mac.\r\n   ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/670249544/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/670804355",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-670804355",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 670804355,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3MDgwNDM1NQ==",
        "user": {
            "login": "salimmj",
            "id": 22433912,
            "node_id": "MDQ6VXNlcjIyNDMzOTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/22433912?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/salimmj",
            "html_url": "https://github.com/salimmj",
            "followers_url": "https://api.github.com/users/salimmj/followers",
            "following_url": "https://api.github.com/users/salimmj/following{/other_user}",
            "gists_url": "https://api.github.com/users/salimmj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/salimmj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/salimmj/subscriptions",
            "organizations_url": "https://api.github.com/users/salimmj/orgs",
            "repos_url": "https://api.github.com/users/salimmj/repos",
            "events_url": "https://api.github.com/users/salimmj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/salimmj/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-08T01:32:36Z",
        "updated_at": "2020-08-08T04:13:07Z",
        "author_association": "NONE",
        "body": "Thanks for looking into this. I also got better benchmarking results with `intra_num_threads` unspecified.\r\n\r\n`OMP_NUM_THREAD=1` is desirable when optimizing for overall throughput with multiple gRPC workers.\r\n\r\nI will test this on EC2 with `intra_num_threads` unspecified to check that the issue is only on mac and comment the results. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/670804355/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/673750501",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-673750501",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 673750501,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3Mzc1MDUwMQ==",
        "user": {
            "login": "fs-eire",
            "id": 7679871,
            "node_id": "MDQ6VXNlcjc2Nzk4NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7679871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fs-eire",
            "html_url": "https://github.com/fs-eire",
            "followers_url": "https://api.github.com/users/fs-eire/followers",
            "following_url": "https://api.github.com/users/fs-eire/following{/other_user}",
            "gists_url": "https://api.github.com/users/fs-eire/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fs-eire/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fs-eire/subscriptions",
            "organizations_url": "https://api.github.com/users/fs-eire/orgs",
            "repos_url": "https://api.github.com/users/fs-eire/repos",
            "events_url": "https://api.github.com/users/fs-eire/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fs-eire/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-13T22:59:31Z",
        "updated_at": "2020-08-13T22:59:31Z",
        "author_association": "MEMBER",
        "body": "Merged PR #4774. However this change will not apply to published packages. Need local build to reflect the change or wait for the next release.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/673750501/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/703088997",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-703088997",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 703088997,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzA4ODk5Nw==",
        "user": {
            "login": "slevental",
            "id": 1327739,
            "node_id": "MDQ6VXNlcjEzMjc3Mzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1327739?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/slevental",
            "html_url": "https://github.com/slevental",
            "followers_url": "https://api.github.com/users/slevental/followers",
            "following_url": "https://api.github.com/users/slevental/following{/other_user}",
            "gists_url": "https://api.github.com/users/slevental/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/slevental/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/slevental/subscriptions",
            "organizations_url": "https://api.github.com/users/slevental/orgs",
            "repos_url": "https://api.github.com/users/slevental/repos",
            "events_url": "https://api.github.com/users/slevental/events{/privacy}",
            "received_events_url": "https://api.github.com/users/slevental/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-03T11:31:12Z",
        "updated_at": "2020-10-03T11:36:18Z",
        "author_association": "NONE",
        "body": "Could anyone provide some details on how OpenMP improves performance vs threadpools that are used by default? I'm curious because Java API doesn't have openmp enabled in the native build, does it make sense to use OpenMP to improve  throughput or tuning threadpools with intra/inter threads should be enought to achieve similar numbers?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/703088997/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/705705746",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-705705746",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 705705746,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTcwNTc0Ng==",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-08T17:09:29Z",
        "updated_at": "2020-10-08T17:09:29Z",
        "author_association": "MEMBER",
        "body": "@slevental, the internal thread pools could achieve similar performance on most models we tested. OpenMP is slightly better on transformers (like BERT) models. Probably it is because we have tuned the optimization of BERT for OpenMP.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/705705746/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739628153",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-739628153",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 739628153,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTYyODE1Mw==",
        "user": {
            "login": "guotong1988",
            "id": 4702353,
            "node_id": "MDQ6VXNlcjQ3MDIzNTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4702353?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guotong1988",
            "html_url": "https://github.com/guotong1988",
            "followers_url": "https://api.github.com/users/guotong1988/followers",
            "following_url": "https://api.github.com/users/guotong1988/following{/other_user}",
            "gists_url": "https://api.github.com/users/guotong1988/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guotong1988/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guotong1988/subscriptions",
            "organizations_url": "https://api.github.com/users/guotong1988/orgs",
            "repos_url": "https://api.github.com/users/guotong1988/repos",
            "events_url": "https://api.github.com/users/guotong1988/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guotong1988/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T02:39:15Z",
        "updated_at": "2020-12-07T02:39:15Z",
        "author_association": "NONE",
        "body": "What is the conclusion?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739628153/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739628462",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4654#issuecomment-739628462",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4654",
        "id": 739628462,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTYyODQ2Mg==",
        "user": {
            "login": "guotong1988",
            "id": 4702353,
            "node_id": "MDQ6VXNlcjQ3MDIzNTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4702353?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guotong1988",
            "html_url": "https://github.com/guotong1988",
            "followers_url": "https://api.github.com/users/guotong1988/followers",
            "following_url": "https://api.github.com/users/guotong1988/following{/other_user}",
            "gists_url": "https://api.github.com/users/guotong1988/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guotong1988/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guotong1988/subscriptions",
            "organizations_url": "https://api.github.com/users/guotong1988/orgs",
            "repos_url": "https://api.github.com/users/guotong1988/repos",
            "events_url": "https://api.github.com/users/guotong1988/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guotong1988/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T02:40:20Z",
        "updated_at": "2020-12-07T02:40:20Z",
        "author_association": "NONE",
        "body": "> Could anyone provide some details on how OpenMP improves performance vs threadpools that are used by default? I'm curious because Java API doesn't have openmp enabled in the native build, does it make sense to use OpenMP to improve throughput or tuning threadpools with intra/inter threads should be enought to achieve similar numbers?\r\n\r\nWhat's wrong with https://github.com/microsoft/onnxruntime/issues/6031 ? Thank you!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739628462/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]