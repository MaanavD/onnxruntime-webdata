[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679442479",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-679442479",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 679442479,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTQ0MjQ3OQ==",
        "user": {
            "login": "ytaous",
            "id": 4484531,
            "node_id": "MDQ6VXNlcjQ0ODQ1MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4484531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ytaous",
            "html_url": "https://github.com/ytaous",
            "followers_url": "https://api.github.com/users/ytaous/followers",
            "following_url": "https://api.github.com/users/ytaous/following{/other_user}",
            "gists_url": "https://api.github.com/users/ytaous/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ytaous/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ytaous/subscriptions",
            "organizations_url": "https://api.github.com/users/ytaous/orgs",
            "repos_url": "https://api.github.com/users/ytaous/repos",
            "events_url": "https://api.github.com/users/ytaous/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ytaous/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T01:04:31Z",
        "updated_at": "2020-08-25T01:04:31Z",
        "author_association": "MEMBER",
        "body": "Hi, thanks for reporting the issue. To clarify, are you referring to  https://github.com/pytorch/pytorch/issues/43283, where the input of ScatterElems becomes initializer after optimization, and this is incorrect and unexpected, correct?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679442479/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679445760",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-679445760",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 679445760,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY3OTQ0NTc2MA==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-25T01:16:13Z",
        "updated_at": "2020-08-25T01:16:13Z",
        "author_association": "NONE",
        "body": "Correct. The input should reman a \"ConstantOfShape\" after optimization. Even though it is a constant, its shape is not constant.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/679445760/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/683089843",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-683089843",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 683089843,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzA4OTg0Mw==",
        "user": {
            "login": "askhade",
            "id": 6475296,
            "node_id": "MDQ6VXNlcjY0NzUyOTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6475296?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/askhade",
            "html_url": "https://github.com/askhade",
            "followers_url": "https://api.github.com/users/askhade/followers",
            "following_url": "https://api.github.com/users/askhade/following{/other_user}",
            "gists_url": "https://api.github.com/users/askhade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/askhade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/askhade/subscriptions",
            "organizations_url": "https://api.github.com/users/askhade/orgs",
            "repos_url": "https://api.github.com/users/askhade/repos",
            "events_url": "https://api.github.com/users/askhade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/askhade/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-28T19:04:42Z",
        "updated_at": "2020-08-28T20:13:47Z",
        "author_association": "MEMBER",
        "body": "@dashesy : \r\nYou mentioned above :  The input should reman a \"ConstantOfShape\" after optimization. Even though it is a constant, its shape is not constant.\r\nThis is not true the shape of the input is constant and that is the reason it is constant folded.\r\n\r\nMore details: \r\nConstantOfShape is constant folded because the input to this node which is Shape node is constant folded.\r\nSince the shape of the input is known to this node it satisfies the conditions for constant folding\r\n\r\n![image](https://user-images.githubusercontent.com/6475296/91605981-31b20200-e926-11ea-8809-86533d8a779c.png)\r\n\r\nAs you can see the shape of input_width is known \"float32[2]\"\r\n\r\nThis is expected.\r\n\r\nTake a look at another shape node in this model Shape_0. Here the shape is not known and therefore it is not constant folded. It exists in the optimized graph too.\r\n\r\n![image](https://user-images.githubusercontent.com/6475296/91606269-a08f5b00-e926-11ea-97bd-dcb4e5a061b4.png)\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/683089843/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/683104334",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-683104334",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 683104334,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzEwNDMzNA==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-28T19:29:18Z",
        "updated_at": "2020-08-28T19:35:07Z",
        "author_association": "NONE",
        "body": "If you look at the code that generates the ONNX, it is not a constant shape. 2 is because of this line\r\n\r\n```python\r\nbbs = torch.as_tensor([[0, 0, 100, 100], [0, 0, 500, 100]]).float()\r\n```\r\n\r\nand you can see `bbs` has first dimension as dynamic shape.\r\n\r\nShape node should not have been constant, so is it exporter issue? (the input to shape has dynamic shape)",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/683104334/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684011266",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-684011266",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 684011266,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDAxMTI2Ng==",
        "user": {
            "login": "askhade",
            "id": 6475296,
            "node_id": "MDQ6VXNlcjY0NzUyOTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6475296?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/askhade",
            "html_url": "https://github.com/askhade",
            "followers_url": "https://api.github.com/users/askhade/followers",
            "following_url": "https://api.github.com/users/askhade/following{/other_user}",
            "gists_url": "https://api.github.com/users/askhade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/askhade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/askhade/subscriptions",
            "organizations_url": "https://api.github.com/users/askhade/orgs",
            "repos_url": "https://api.github.com/users/askhade/repos",
            "events_url": "https://api.github.com/users/askhade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/askhade/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-31T20:10:32Z",
        "updated_at": "2020-08-31T20:10:32Z",
        "author_association": "MEMBER",
        "body": "From the model clearly Shape node does not have dynamic shape and this is why it is being constant folded.\r\nIt depends on how the Shape node is created (in the script) This seems either like exporter issue or an issue with the scirpt which generates the onnx file\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684011266/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684012915",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4898#issuecomment-684012915",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4898",
        "id": 684012915,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDAxMjkxNQ==",
        "user": {
            "login": "dashesy",
            "id": 873905,
            "node_id": "MDQ6VXNlcjg3MzkwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/873905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dashesy",
            "html_url": "https://github.com/dashesy",
            "followers_url": "https://api.github.com/users/dashesy/followers",
            "following_url": "https://api.github.com/users/dashesy/following{/other_user}",
            "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions",
            "organizations_url": "https://api.github.com/users/dashesy/orgs",
            "repos_url": "https://api.github.com/users/dashesy/repos",
            "events_url": "https://api.github.com/users/dashesy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dashesy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-08-31T20:14:03Z",
        "updated_at": "2020-08-31T20:14:03Z",
        "author_association": "NONE",
        "body": "I created the issue on PyTorch. I do not know what is the difference between exporter and \"script that generates the onnx file\". The script is the one above (the repro).\r\nI close this issue because this looks like not related to ORT issue, thanks",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684012915/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]