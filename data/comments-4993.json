[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684185646",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-684185646",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 684185646,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDE4NTY0Ng==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-01T04:06:46Z",
        "updated_at": "2020-09-01T04:08:57Z",
        "author_association": "CONTRIBUTOR",
        "body": "Please try to rebuild the ORT by changing this line\r\nhttps://github.com/microsoft/onnxruntime/blob/7ca8388dc98cbc23c7c165064bca6b3142d28d79/onnxruntime/core/providers/nnapi/nnapi_builtin/builders/model_builder.h#L149\r\nto \r\n`TargetDeviceOption target_device_option_{TargetDeviceOption::CPU_ONLY};`\r\nAnd let us know if the output is different than the one that CPU gives.\r\n\r\nIf we set target_device_option_ to CPU only, the execution is forced to run on NNAPI CPU implementation, if the result is the same as running on ORT CPU, then the issue you were seeing may be related to the precision of the actual NPU/GPU implementation of Android NNAPI.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684185646/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684351196",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-684351196",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 684351196,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDM1MTE5Ng==",
        "user": {
            "login": "s94285",
            "id": 23016451,
            "node_id": "MDQ6VXNlcjIzMDE2NDUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/23016451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/s94285",
            "html_url": "https://github.com/s94285",
            "followers_url": "https://api.github.com/users/s94285/followers",
            "following_url": "https://api.github.com/users/s94285/following{/other_user}",
            "gists_url": "https://api.github.com/users/s94285/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/s94285/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/s94285/subscriptions",
            "organizations_url": "https://api.github.com/users/s94285/orgs",
            "repos_url": "https://api.github.com/users/s94285/repos",
            "events_url": "https://api.github.com/users/s94285/events{/privacy}",
            "received_events_url": "https://api.github.com/users/s94285/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-01T05:41:11Z",
        "updated_at": "2020-09-01T05:41:11Z",
        "author_association": "NONE",
        "body": "> Please try to rebuild the ORT by changing this line\r\n> \r\n> https://github.com/microsoft/onnxruntime/blob/7ca8388dc98cbc23c7c165064bca6b3142d28d79/onnxruntime/core/providers/nnapi/nnapi_builtin/builders/model_builder.h#L149\r\n> \r\n> to\r\n> `TargetDeviceOption target_device_option_{TargetDeviceOption::CPU_ONLY};`\r\n> And let us know if the output is different than the one that CPU gives.\r\n> \r\n> If we set target_device_option_ to CPU only, the execution is forced to run on NNAPI CPU implementation, if the result is the same as running on ORT CPU, then the issue you were seeing may be related to the precision of the actual NPU/GPU implementation of Android NNAPI.\r\n\r\nI changed the line to `TargetDeviceOption target_device_option_{TargetDeviceOption::CPU_ONLY};`\r\nBut it still uses NN HAL instead of CPU since I gets outputs from the npu service process.\r\nHow can I get verbose logs of onnxruntime from logcat?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684351196/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684422988",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-684422988",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 684422988,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDQyMjk4OA==",
        "user": {
            "login": "s94285",
            "id": 23016451,
            "node_id": "MDQ6VXNlcjIzMDE2NDUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/23016451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/s94285",
            "html_url": "https://github.com/s94285",
            "followers_url": "https://api.github.com/users/s94285/followers",
            "following_url": "https://api.github.com/users/s94285/following{/other_user}",
            "gists_url": "https://api.github.com/users/s94285/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/s94285/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/s94285/subscriptions",
            "organizations_url": "https://api.github.com/users/s94285/orgs",
            "repos_url": "https://api.github.com/users/s94285/repos",
            "events_url": "https://api.github.com/users/s94285/events{/privacy}",
            "received_events_url": "https://api.github.com/users/s94285/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-01T06:16:53Z",
        "updated_at": "2020-09-01T06:21:22Z",
        "author_association": "NONE",
        "body": "By the way, I am using android 9.0 API 28, which does not support GetTargetDevices().\r\nIt might be the cause of not using NNAPI CPU.\r\nhttps://github.com/microsoft/onnxruntime/blob/7ca8388dc98cbc23c7c165064bca6b3142d28d79/onnxruntime/core/providers/nnapi/nnapi_builtin/builders/model_builder.cc#L145",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684422988/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684500439",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-684500439",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 684500439,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDUwMDQzOQ==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-01T07:02:58Z",
        "updated_at": "2020-09-01T07:02:58Z",
        "author_association": "CONTRIBUTOR",
        "body": "You can try to build the ORT for x86_64 and run your test app on an Android Simulator to see the result by NNAPI CPU implementation.\r\n\r\nPlease also provide the spec of the device you ran the test App on.\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684500439/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684556198",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-684556198",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 684556198,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDU1NjE5OA==",
        "user": {
            "login": "s94285",
            "id": 23016451,
            "node_id": "MDQ6VXNlcjIzMDE2NDUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/23016451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/s94285",
            "html_url": "https://github.com/s94285",
            "followers_url": "https://api.github.com/users/s94285/followers",
            "following_url": "https://api.github.com/users/s94285/following{/other_user}",
            "gists_url": "https://api.github.com/users/s94285/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/s94285/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/s94285/subscriptions",
            "organizations_url": "https://api.github.com/users/s94285/orgs",
            "repos_url": "https://api.github.com/users/s94285/repos",
            "events_url": "https://api.github.com/users/s94285/events{/privacy}",
            "received_events_url": "https://api.github.com/users/s94285/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-01T08:21:16Z",
        "updated_at": "2020-09-01T08:21:16Z",
        "author_association": "NONE",
        "body": "The test app was running on an android TV board with armeabi-v7a arch and android 9.\r\nI built arm64-v8a version to test on my Zenfone 5Z running android 9.\r\nIt works well and only slight difference between CPU and NNAPI output.\r\nSo I guess it might be the TV board's issue or armeabi-v7a version has something different.\r\nI'll try it on other armeabi-v7a devices.\r\nThanks for the reply :D",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/684556198/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/685267926",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/4993#issuecomment-685267926",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/4993",
        "id": 685267926,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY4NTI2NzkyNg==",
        "user": {
            "login": "s94285",
            "id": 23016451,
            "node_id": "MDQ6VXNlcjIzMDE2NDUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/23016451?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/s94285",
            "html_url": "https://github.com/s94285",
            "followers_url": "https://api.github.com/users/s94285/followers",
            "following_url": "https://api.github.com/users/s94285/following{/other_user}",
            "gists_url": "https://api.github.com/users/s94285/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/s94285/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/s94285/subscriptions",
            "organizations_url": "https://api.github.com/users/s94285/orgs",
            "repos_url": "https://api.github.com/users/s94285/repos",
            "events_url": "https://api.github.com/users/s94285/events{/privacy}",
            "received_events_url": "https://api.github.com/users/s94285/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-09-02T03:27:39Z",
        "updated_at": "2020-09-02T04:19:48Z",
        "author_association": "NONE",
        "body": "After turning off NN HAL process on the TV board so that NNAPI can only use CPU, the outputs become stable.\r\nSo it turns out to be the TV board's problem.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/685267926/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]