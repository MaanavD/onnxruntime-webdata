[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739564649",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-739564649",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 739564649,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTU2NDY0OQ==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-06T21:11:39Z",
        "updated_at": "2020-12-06T21:11:39Z",
        "author_association": "CONTRIBUTOR",
        "body": "`valgrind`. That's what I was using to check for leaks when developing it.\r\n\r\nAre you closing all the input and output `OnnxValue`s after you've finished with them?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739564649/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739774505",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-739774505",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 739774505,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTc3NDUwNQ==",
        "user": {
            "login": "thhart",
            "id": 2632538,
            "node_id": "MDQ6VXNlcjI2MzI1Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2632538?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thhart",
            "html_url": "https://github.com/thhart",
            "followers_url": "https://api.github.com/users/thhart/followers",
            "following_url": "https://api.github.com/users/thhart/following{/other_user}",
            "gists_url": "https://api.github.com/users/thhart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thhart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thhart/subscriptions",
            "organizations_url": "https://api.github.com/users/thhart/orgs",
            "repos_url": "https://api.github.com/users/thhart/repos",
            "events_url": "https://api.github.com/users/thhart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thhart/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T08:54:32Z",
        "updated_at": "2020-12-07T10:36:35Z",
        "author_association": "NONE",
        "body": "The code looks like this below. list is a float array containing an image. As you can see the close of all resources is commented out since these are auto closed, if I try to close these manually an exception is thrown. I double checked all resources which might leak but could not find something.\r\n\r\n<pre>  \r\n      final ArrayList<Recognition> boxes = new ArrayList<>();\r\n      final FloatBuffer floatBuffer = FloatBuffer.wrap(list);\r\n      final HashMap<String, OnnxTensor> inputs = new HashMap<>();\r\n      OnnxTensor tensor =\r\n          OnnxTensor.createTensor(environment, floatBuffer, new long[] {1, 3, dimX, dimY});\r\n      //noinspection EmptyFinallyBlock\r\n      try {\r\n        //noinspection resource\r\n        inputs.put(\"images\", tensor);\r\n        final Optional<OnnxValue> output;\r\n        @SuppressWarnings(\"resource\")\r\n        Result result = session.run(inputs, (RunOptions)null);\r\n        //noinspection EmptyFinallyBlock\r\n        try {\r\n          tensor.close();\r\n          output = result.get(\"output\");\r\n          // Color[] colors = HelperColor.randomColor(2);\r\n          if (output.isPresent()) {\r\n            final float[][][] v0;\r\n            try (OnnxValue value = output.get()) {\r\n              v0 = (float[][][]) value.getValue();\r\n              final ArrayList<Recognition> detections = HelperRecognition.nms(extract(v0[0]), labels, mNmsThresh);\r\n              for (Recognition d : detections) {\r\n                d.scaleUp(sX,sY);\r\n              }\r\n              boxes.addAll(detections);\r\n            }\r\n          } else {\r\n            throw new RuntimeException(\"no result to read\");\r\n          }\r\n        } finally {\r\n          // System.err.println(\"Not free result...\");\r\n          // result.close();\r\n        }\r\n        inputs.clear();\r\n      } finally {\r\n        // System.err.println(\"Not free tensor...\");\r\n        // tensor.close();\r\n      }\r\n      return boxes;\r\n</pre>",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739774505/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739805004",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-739805004",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 739805004,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczOTgwNTAwNA==",
        "user": {
            "login": "thhart",
            "id": 2632538,
            "node_id": "MDQ6VXNlcjI2MzI1Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2632538?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thhart",
            "html_url": "https://github.com/thhart",
            "followers_url": "https://api.github.com/users/thhart/followers",
            "following_url": "https://api.github.com/users/thhart/following{/other_user}",
            "gists_url": "https://api.github.com/users/thhart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thhart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thhart/subscriptions",
            "organizations_url": "https://api.github.com/users/thhart/orgs",
            "repos_url": "https://api.github.com/users/thhart/repos",
            "events_url": "https://api.github.com/users/thhart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thhart/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T09:50:00Z",
        "updated_at": "2020-12-07T09:50:09Z",
        "author_association": "NONE",
        "body": "As soon as I try to free the result the JVM crashes with following error:\r\n**free(): double free detected in tcache 2**",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/739805004/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740138750",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-740138750",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 740138750,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDEzODc1MA==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-07T19:44:36Z",
        "updated_at": "2020-12-07T19:52:55Z",
        "author_association": "CONTRIBUTOR",
        "body": "The model only has a single output? It's preferable to use a try with resources on the result object itself, that will ensure that all the values returned by the model are closed.\r\n\r\nI thought that the OnnxTensor had a guard on its close method to prevent the double free. Guess not, I'll put one in at some point in the next few weeks.\r\n\r\nDue to the way you've scoped the input tensor (i.e. it's outside of the try block) it (and it's backing direct ByteBuffer) will stick around after the close call has been made. In your real program is this object likely to escape?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740138750/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740461348",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-740461348",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 740461348,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MDQ2MTM0OA==",
        "user": {
            "login": "thhart",
            "id": 2632538,
            "node_id": "MDQ6VXNlcjI2MzI1Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2632538?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thhart",
            "html_url": "https://github.com/thhart",
            "followers_url": "https://api.github.com/users/thhart/followers",
            "following_url": "https://api.github.com/users/thhart/following{/other_user}",
            "gists_url": "https://api.github.com/users/thhart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thhart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thhart/subscriptions",
            "organizations_url": "https://api.github.com/users/thhart/orgs",
            "repos_url": "https://api.github.com/users/thhart/repos",
            "events_url": "https://api.github.com/users/thhart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thhart/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-08T08:18:05Z",
        "updated_at": "2020-12-08T08:18:54Z",
        "author_association": "NONE",
        "body": "The model is a Yolo model which has one complex structured output.\r\n\r\nThe input tensor is in a try-resource block now but still same problem.\r\n\r\nThe result can not be in a resource due to the double free problem, as soon as I do this it crashes.\r\n\r\nBelow is the updated code but memory increasing steadily:\r\n\r\n<pre>     final ArrayList<Recognition> boxes = new ArrayList<>();\r\n      final FloatBuffer floatBuffer = FloatBuffer.wrap(list);\r\n      final HashMap<String, OnnxTensor> inputs = new HashMap<>();\r\n      try (OnnxTensor tensor = OnnxTensor.createTensor(environment, floatBuffer, new long[]{1, 3, dimX, dimY})) {\r\n        inputs.put(\"images\", tensor);\r\n        final Optional<OnnxValue> output;\r\n        Result result = session.run(inputs, options);\r\n          try {\r\n            output = result.get(\"output\");\r\n            // Color[] colors = HelperColor.randomColor(2);\r\n            if (output.isPresent()) {\r\n              final float[][][] v0;\r\n              try (OnnxValue value = output.get()) {\r\n                v0 = (float[][][])value.getValue();\r\n                final ArrayList<Recognition> detections = HelperRecognition.nms(extract(v0[0]), labels, mNmsThresh);\r\n                for (Recognition d : detections) {\r\n                  d.scaleUp(sX, sY);\r\n                }\r\n                boxes.addAll(detections);\r\n              }\r\n            } else {\r\n              throw new RuntimeException(\"no result to read\");\r\n            }\r\n          } finally {\r\n            inputs.clear();\r\n            // System.err.println(\"Not free result...\");\r\n            // result.close();\r\n          }\r\n      }\r\n</pre>",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/740461348/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742624661",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-742624661",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 742624661,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MjYyNDY2MQ==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-10T16:19:22Z",
        "updated_at": "2020-12-10T16:19:22Z",
        "author_association": "CONTRIBUTOR",
        "body": "If you recompile ONNX Runtime with debug symbols then valgrind should be able to show you where the lost memory is being allocated. Then we can try and run down what's going on. I wouldn't run a big thing through it though as valgrind is slow (and CPU only).",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742624661/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742793705",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-742793705",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 742793705,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0Mjc5MzcwNQ==",
        "user": {
            "login": "thhart",
            "id": 2632538,
            "node_id": "MDQ6VXNlcjI2MzI1Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2632538?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thhart",
            "html_url": "https://github.com/thhart",
            "followers_url": "https://api.github.com/users/thhart/followers",
            "following_url": "https://api.github.com/users/thhart/following{/other_user}",
            "gists_url": "https://api.github.com/users/thhart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thhart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thhart/subscriptions",
            "organizations_url": "https://api.github.com/users/thhart/orgs",
            "repos_url": "https://api.github.com/users/thhart/repos",
            "events_url": "https://api.github.com/users/thhart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thhart/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-10T20:55:56Z",
        "updated_at": "2020-12-10T20:55:56Z",
        "author_association": "NONE",
        "body": "Thanks for the hint, will check further and come back if I have more information. Valgrind is too slow to check. Since the library is woven into a complex environment I can not be sure yet, will modularize into different JVM first.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742793705/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742868799",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-742868799",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 742868799,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0Mjg2ODc5OQ==",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-10T23:35:45Z",
        "updated_at": "2020-12-10T23:35:45Z",
        "author_association": "CONTRIBUTOR",
        "body": "If possible check the model using one of the other interfaces (e.g. Python), and see if you observe similar behaviour. If not then at least it's narrowed down to where the Java interface allocates memory in native code.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/742868799/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1039965852",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1039965852",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1039965852,
        "node_id": "IC_kwDOCVq1mM49_J6c",
        "user": {
            "login": "cgpeter96",
            "id": 18066295,
            "node_id": "MDQ6VXNlcjE4MDY2Mjk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18066295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cgpeter96",
            "html_url": "https://github.com/cgpeter96",
            "followers_url": "https://api.github.com/users/cgpeter96/followers",
            "following_url": "https://api.github.com/users/cgpeter96/following{/other_user}",
            "gists_url": "https://api.github.com/users/cgpeter96/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cgpeter96/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cgpeter96/subscriptions",
            "organizations_url": "https://api.github.com/users/cgpeter96/orgs",
            "repos_url": "https://api.github.com/users/cgpeter96/repos",
            "events_url": "https://api.github.com/users/cgpeter96/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cgpeter96/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-15T07:56:20Z",
        "updated_at": "2022-02-15T07:56:20Z",
        "author_association": "NONE",
        "body": "Recently, I observe a problem with onnxruntime in Java. The memory of my java code with onnx has increased slowly but never stop. I try my best to figure out the memory increase problem. However, I only find some problem happen in `libonnxruntime.so`.\r\n\r\nDo you have figure the problem except reboot? @thhart ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1039965852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040422422",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1040422422",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1040422422,
        "node_id": "IC_kwDOCVq1mM4-A5YW",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-15T15:37:16Z",
        "updated_at": "2022-02-15T15:37:16Z",
        "author_association": "CONTRIBUTOR",
        "body": "Could you open another issue with more details (e.g. platform, session options/providers, ORT version, JVM version)?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040422422/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040533405",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1040533405",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1040533405,
        "node_id": "IC_kwDOCVq1mM4-BUed",
        "user": {
            "login": "thhart",
            "id": 2632538,
            "node_id": "MDQ6VXNlcjI2MzI1Mzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2632538?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thhart",
            "html_url": "https://github.com/thhart",
            "followers_url": "https://api.github.com/users/thhart/followers",
            "following_url": "https://api.github.com/users/thhart/following{/other_user}",
            "gists_url": "https://api.github.com/users/thhart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thhart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thhart/subscriptions",
            "organizations_url": "https://api.github.com/users/thhart/orgs",
            "repos_url": "https://api.github.com/users/thhart/repos",
            "events_url": "https://api.github.com/users/thhart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thhart/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-15T17:03:17Z",
        "updated_at": "2022-02-15T17:03:17Z",
        "author_association": "NONE",
        "body": "@cgpeter96 The problem is within native code and it is not possible to diagnose within Java, I have modularized my code in a way that analyzers utilizing Onnx restart itself after a specific time.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040533405/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040568451",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1040568451",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1040568451,
        "node_id": "IC_kwDOCVq1mM4-BdCD",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-15T17:32:36Z",
        "updated_at": "2022-02-15T17:32:36Z",
        "author_association": "CONTRIBUTOR",
        "body": "So there's a memory leak inside the ORT native runtime? That seems like something that should get fixed. Is it still occurring in the latest version?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1040568451/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1041304310",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1041304310",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1041304310,
        "node_id": "IC_kwDOCVq1mM4-EQr2",
        "user": {
            "login": "cgpeter96",
            "id": 18066295,
            "node_id": "MDQ6VXNlcjE4MDY2Mjk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18066295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cgpeter96",
            "html_url": "https://github.com/cgpeter96",
            "followers_url": "https://api.github.com/users/cgpeter96/followers",
            "following_url": "https://api.github.com/users/cgpeter96/following{/other_user}",
            "gists_url": "https://api.github.com/users/cgpeter96/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cgpeter96/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cgpeter96/subscriptions",
            "organizations_url": "https://api.github.com/users/cgpeter96/orgs",
            "repos_url": "https://api.github.com/users/cgpeter96/repos",
            "events_url": "https://api.github.com/users/cgpeter96/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cgpeter96/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-16T09:48:50Z",
        "updated_at": "2022-02-16T09:48:50Z",
        "author_association": "NONE",
        "body": "> So there's a memory leak inside the ORT native runtime? That seems like something that should get fixed. Is it still occurring in the latest version?\r\n\r\nNo, I fix the problem. I forget close of  `OnnxTensor`.  Just apply `try-catch` on create tensor and run session. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1041304310/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1062762326",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1062762326",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1062762326,
        "node_id": "IC_kwDOCVq1mM4_WHdW",
        "user": {
            "login": "shuiyuejihua",
            "id": 31531236,
            "node_id": "MDQ6VXNlcjMxNTMxMjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31531236?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuiyuejihua",
            "html_url": "https://github.com/shuiyuejihua",
            "followers_url": "https://api.github.com/users/shuiyuejihua/followers",
            "following_url": "https://api.github.com/users/shuiyuejihua/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuiyuejihua/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuiyuejihua/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuiyuejihua/subscriptions",
            "organizations_url": "https://api.github.com/users/shuiyuejihua/orgs",
            "repos_url": "https://api.github.com/users/shuiyuejihua/repos",
            "events_url": "https://api.github.com/users/shuiyuejihua/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuiyuejihua/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-09T10:13:32Z",
        "updated_at": "2022-03-09T10:13:32Z",
        "author_association": "NONE",
        "body": "---------------  S Y S T E M  ---------------\r\n\r\nOS:\r\n Windows 10 , 64 bit Build 19041 (10.0.19041.292)\r\nOS uptime: 6 days 4:30 hours\r\n\r\nCPU: total 8 (initial active 8) (4 cores per cpu, 2 threads per core) family 6 model 142 stepping 12 microcode 0xde, cx8, cmov, fxsr, ht, mmx, 3dnowpref, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, lzcnt, tsc, tscinvbit, avx, avx2, aes, erms, clmul, bmi1, bmi2, adx, fma, vzeroupper, clflush, clflushopt\r\n\r\nMemory: 4k page, system-wide physical 7785M (415M free)\r\nTotalPageFile size 20585M (AvailPageFile size 5M)\r\ncurrent process WorkingSet (physical memory assigned to process): 3566M, peak: 3796M\r\ncurrent process commit charge (\"private bytes\"): 13863M, peak: 13864M\r\n\r\nvm_info: Java HotSpot(TM) 64-Bit Server VM (17.0.2+8-LTS-86) for windows-amd64 JRE (17.0.2+8-LTS-86), built on Dec  7 2021 21:51:03 by \"mach5one\" with MS VC++ 16.8 / 16.9 (VS2019)\r\n\r\n\r\ntried   try-catch on create tensor and run session and get the results , but still out of memory\r\n\r\nI run a for loop about 2000 times, \r\n\r\nstart  onnx env and session only once and close the onnx results mannualy,  it will take more time to throw this error \r\nthan one time one loop using try-catch\r\nbut finnaly about finished 1980 loop,  it throw the error again.  \r\nmay be\r\n\r\n> So there's a memory leak inside the ORT native runtime? That seems like something that should get fixed. Is it still occurring in the latest version?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1062762326/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1062993350",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1062993350",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1062993350,
        "node_id": "IC_kwDOCVq1mM4_W_3G",
        "user": {
            "login": "Craigacp",
            "id": 729696,
            "node_id": "MDQ6VXNlcjcyOTY5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/729696?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Craigacp",
            "html_url": "https://github.com/Craigacp",
            "followers_url": "https://api.github.com/users/Craigacp/followers",
            "following_url": "https://api.github.com/users/Craigacp/following{/other_user}",
            "gists_url": "https://api.github.com/users/Craigacp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Craigacp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Craigacp/subscriptions",
            "organizations_url": "https://api.github.com/users/Craigacp/orgs",
            "repos_url": "https://api.github.com/users/Craigacp/repos",
            "events_url": "https://api.github.com/users/Craigacp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Craigacp/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-09T14:43:35Z",
        "updated_at": "2022-03-09T14:43:35Z",
        "author_association": "CONTRIBUTOR",
        "body": "Can you provide details about your model (inputs, outputs etc), and show the code you're using to drive the inference (including the session creation and any session options)? I assume this is using ORT 1.10?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1062993350/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1063723394",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6058#issuecomment-1063723394",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6058",
        "id": 1063723394,
        "node_id": "IC_kwDOCVq1mM4_ZyGC",
        "user": {
            "login": "shuiyuejihua",
            "id": 31531236,
            "node_id": "MDQ6VXNlcjMxNTMxMjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31531236?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuiyuejihua",
            "html_url": "https://github.com/shuiyuejihua",
            "followers_url": "https://api.github.com/users/shuiyuejihua/followers",
            "following_url": "https://api.github.com/users/shuiyuejihua/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuiyuejihua/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuiyuejihua/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuiyuejihua/subscriptions",
            "organizations_url": "https://api.github.com/users/shuiyuejihua/orgs",
            "repos_url": "https://api.github.com/users/shuiyuejihua/repos",
            "events_url": "https://api.github.com/users/shuiyuejihua/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuiyuejihua/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-10T06:56:06Z",
        "updated_at": "2022-03-10T06:56:06Z",
        "author_association": "NONE",
        "body": "sorry， I find that problem is about djl NDManager，the manager did not closed，the memory leak.  After I use submanager to close the NDArray,  it is fine.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1063723394/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]