[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743387215",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6114#issuecomment-743387215",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6114",
        "id": 743387215,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MzM4NzIxNQ==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-11T19:35:53Z",
        "updated_at": "2020-12-11T19:35:53Z",
        "author_association": "MEMBER",
        "body": "Thank you for the suggestion. Before we released the API, we had a reivew with the team and the decison was avoiding using reference counting in the public C APIs.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743387215/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743444989",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6114#issuecomment-743444989",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6114",
        "id": 743444989,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MzQ0NDk4OQ==",
        "user": {
            "login": "WilliamTambellini",
            "id": 109458,
            "node_id": "MDQ6VXNlcjEwOTQ1OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/109458?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WilliamTambellini",
            "html_url": "https://github.com/WilliamTambellini",
            "followers_url": "https://api.github.com/users/WilliamTambellini/followers",
            "following_url": "https://api.github.com/users/WilliamTambellini/following{/other_user}",
            "gists_url": "https://api.github.com/users/WilliamTambellini/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WilliamTambellini/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WilliamTambellini/subscriptions",
            "organizations_url": "https://api.github.com/users/WilliamTambellini/orgs",
            "repos_url": "https://api.github.com/users/WilliamTambellini/repos",
            "events_url": "https://api.github.com/users/WilliamTambellini/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WilliamTambellini/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-11T21:49:59Z",
        "updated_at": "2020-12-11T21:49:59Z",
        "author_association": "CONTRIBUTOR",
        "body": "For users like me evaluating your software, that s worrying, as it implies that more random crashes to happen from onnxrt without even an exception. Are you really stating you cannot at least add a check/assert to correctly throw?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743444989/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743452133",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6114#issuecomment-743452133",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6114",
        "id": 743452133,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0MzQ1MjEzMw==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-11T22:07:48Z",
        "updated_at": "2020-12-11T22:07:48Z",
        "author_association": "MEMBER",
        "body": "In this case, onnxruntime has no way to know a pointer is wild. If it knew, yes we will let it returns an error or throw an exception. But we can't get such information. \r\n\r\nI admit OrtEnv was a wrong design. We shouldn't have it in the first place. I was trying to minic the [mysql-init](https://dev.mysql.com/doc/c-api/8.0/en/mysql-init.html) function in MySQL.  We need the OrtEnv because as you can see some of our code depends on a process-level global logger, so we must use a global variable to hold it.  However, it brings in the following questions:\r\n\r\n1.  Can OrtEnv be created multiple times? Like CreateEnv, ReleaseEnv, CreateEnv again, Release Env again. Or CreateEnv, CreateEnv, ReleaseEnv, Release Env. \r\n2.  Can OrtEnv lives in a global variable?\r\n3.  What if a user forgot to destory the OrtEnv object? Would it cause crash?\r\n...\r\n\r\nSo, if you are developing an applicaiton with a main function, I suggest create the OrtEnv at the beginning of the main, then use same object else where, then it should be fine. If you have no control of the main, then the object need be handled very carefully. \r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/743452133/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/747069940",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6114#issuecomment-747069940",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6114",
        "id": 747069940,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzA2OTk0MA==",
        "user": {
            "login": "WilliamTambellini",
            "id": 109458,
            "node_id": "MDQ6VXNlcjEwOTQ1OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/109458?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WilliamTambellini",
            "html_url": "https://github.com/WilliamTambellini",
            "followers_url": "https://api.github.com/users/WilliamTambellini/followers",
            "following_url": "https://api.github.com/users/WilliamTambellini/following{/other_user}",
            "gists_url": "https://api.github.com/users/WilliamTambellini/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WilliamTambellini/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WilliamTambellini/subscriptions",
            "organizations_url": "https://api.github.com/users/WilliamTambellini/orgs",
            "repos_url": "https://api.github.com/users/WilliamTambellini/repos",
            "events_url": "https://api.github.com/users/WilliamTambellini/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WilliamTambellini/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-16T22:07:29Z",
        "updated_at": "2020-12-16T22:07:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi @snnn \r\nThank you for that fair reply.\r\nI understand the design of the env to session communication was bad from the start. I m still worry that such source of bugs has not been fixed. \r\nDo you have any reason to totally exclude sharedptr, available since std cpp11 ?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/747069940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/747115954",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6114#issuecomment-747115954",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6114",
        "id": 747115954,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzExNTk1NA==",
        "user": {
            "login": "snnn",
            "id": 856316,
            "node_id": "MDQ6VXNlcjg1NjMxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856316?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/snnn",
            "html_url": "https://github.com/snnn",
            "followers_url": "https://api.github.com/users/snnn/followers",
            "following_url": "https://api.github.com/users/snnn/following{/other_user}",
            "gists_url": "https://api.github.com/users/snnn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/snnn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/snnn/subscriptions",
            "organizations_url": "https://api.github.com/users/snnn/orgs",
            "repos_url": "https://api.github.com/users/snnn/repos",
            "events_url": "https://api.github.com/users/snnn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/snnn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-12-17T00:09:50Z",
        "updated_at": "2020-12-17T00:09:50Z",
        "author_association": "MEMBER",
        "body": "Please see https://github.com/microsoft/onnxruntime/blob/master/docs/onnxruntime_dependencies.png \r\n\r\nThe code you showed us was using the C++ API. The C++ API depends on C API underneath.  \r\n\r\nThe C API doesn't support reference counting. We can add it, which will make it more like [COM](https://docs.microsoft.com/en-us/windows/win32/api/unknwn/nn-unknwn-iunknown). People think COM is too complex. \r\n\r\nshared_ptr is only available in C++. But the C API need to support many different programming languages.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/747115954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]