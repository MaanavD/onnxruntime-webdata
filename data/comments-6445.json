[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767355313",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-767355313",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 767355313,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzM1NTMxMw==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T07:22:49Z",
        "updated_at": "2021-01-26T07:22:49Z",
        "author_association": "CONTRIBUTOR",
        "body": "Seems the kernel is registered in kMSDomain, with opset version 1. Could you check if the node in onnx file is also in the same domain and version?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767355313/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767359131",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-767359131",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 767359131,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzM1OTEzMQ==",
        "user": {
            "login": "SubjectNoi",
            "id": 23569127,
            "node_id": "MDQ6VXNlcjIzNTY5MTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23569127?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SubjectNoi",
            "html_url": "https://github.com/SubjectNoi",
            "followers_url": "https://api.github.com/users/SubjectNoi/followers",
            "following_url": "https://api.github.com/users/SubjectNoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SubjectNoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SubjectNoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SubjectNoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SubjectNoi/orgs",
            "repos_url": "https://api.github.com/users/SubjectNoi/repos",
            "events_url": "https://api.github.com/users/SubjectNoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SubjectNoi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T07:31:25Z",
        "updated_at": "2021-01-26T07:31:25Z",
        "author_association": "NONE",
        "body": "In netron, my model is: ONNX v7 and ai.onnx v12, so I should set the domain to be kOnnxDomain and set opset (By Since()) to 7?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767359131/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767380118",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-767380118",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 767380118,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzM4MDExOA==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T08:19:13Z",
        "updated_at": "2021-01-26T08:20:01Z",
        "author_association": "CONTRIBUTOR",
        "body": "You need to add additional domain to the mode. Below is an example in Python:\r\n```\r\nimport onnx\r\n#load file\r\nmp = onnx.load('/path/to/file')\r\n# add opset for kMSDomain\r\nopset = mp.opset_import.add()\r\nopset.domain = \"com.microsoft\"\r\nopset.version = 1\r\n# find the node with op_type == Comm, and add domain\r\nfor n in mp.graph.node:\r\n  if n.op_type == \"Comm\":\r\n    n.domain = \"com.microsoft\"\r\n# save file\r\nonnx.save(mp, '/path/to/file')\r\n```\r\nThe string ```com.microsoft``` comes from [kMSDomain](https://github.com/microsoft/onnxruntime/blob/master/include/onnxruntime/core/graph/constants.h#L15) declared in your kernel, and the code above adds domain to both model description and node.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767380118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767381746",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-767381746",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 767381746,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzM4MTc0Ng==",
        "user": {
            "login": "SubjectNoi",
            "id": 23569127,
            "node_id": "MDQ6VXNlcjIzNTY5MTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23569127?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SubjectNoi",
            "html_url": "https://github.com/SubjectNoi",
            "followers_url": "https://api.github.com/users/SubjectNoi/followers",
            "following_url": "https://api.github.com/users/SubjectNoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SubjectNoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SubjectNoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SubjectNoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SubjectNoi/orgs",
            "repos_url": "https://api.github.com/users/SubjectNoi/repos",
            "events_url": "https://api.github.com/users/SubjectNoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SubjectNoi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T08:22:39Z",
        "updated_at": "2021-01-26T08:22:39Z",
        "author_association": "NONE",
        "body": "Now after I change the domain and version to `kOnnxDomainAlias` and `12` respectively, I got following message:\r\n`Schema error: Trying to register schema with name Comm (domain: ai.onnx version: 12) from file /onnxruntime/core/graph/contrib_ops/contrib_defs.cc line 2208, but it its domain is not known by the checker.`\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767381746/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767668350",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-767668350",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 767668350,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzY2ODM1MA==",
        "user": {
            "login": "ke1337",
            "id": 22626095,
            "node_id": "MDQ6VXNlcjIyNjI2MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22626095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ke1337",
            "html_url": "https://github.com/ke1337",
            "followers_url": "https://api.github.com/users/ke1337/followers",
            "following_url": "https://api.github.com/users/ke1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/ke1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ke1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ke1337/subscriptions",
            "organizations_url": "https://api.github.com/users/ke1337/orgs",
            "repos_url": "https://api.github.com/users/ke1337/repos",
            "events_url": "https://api.github.com/users/ke1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ke1337/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-26T16:37:30Z",
        "updated_at": "2021-01-26T16:41:01Z",
        "author_association": "CONTRIBUTOR",
        "body": "Please check how your op schema is registered. [Here](https://github.com/microsoft/onnxruntime/blob/f3a0344f9a9c8256d114ae9b930eaaa0c1f37592/orttraining/orttraining/core/graph/training_op_defs.cc#L1717-L1718) is an example of registering op schema to kMSDomain.\r\n```\r\n ONNX_CONTRIB_OPERATOR_SCHEMA(PassThrough)\r\n      .SetDomain(kMSDomain)\r\n      .SinceVersion(1)\r\n      .SetDoc(\"Barrier op with value pass through, outputs = inputs\")\r\n      .Input(0, \"inputs\", \"input tensors\", \"T\", OpSchema::Variadic, false)\r\n      .Output(0, \"outputs\", \"output tensors\", \"T\", OpSchema::Variadic, false)\r\n      .TypeConstraint(\"T\", OpSchema::all_tensor_types_with_bfloat(), \"All Tensor types\")\r\n      .TypeAndShapeInferenceFunction([](ONNX_NAMESPACE::InferenceContext& ctx) {\r\n        for (size_t i = 0; i < ctx.getNumInputs(); ++i) {\r\n          propagateElemTypeFromInputToOutput(ctx, i, i);\r\n          if (hasInputShape(ctx, i)) {\r\n            propagateShapeFromInputToOutput(ctx, i, i);\r\n          }\r\n        }\r\n      });\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/767668350/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/769541373",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6445#issuecomment-769541373",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6445",
        "id": 769541373,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTU0MTM3Mw==",
        "user": {
            "login": "SubjectNoi",
            "id": 23569127,
            "node_id": "MDQ6VXNlcjIzNTY5MTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23569127?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SubjectNoi",
            "html_url": "https://github.com/SubjectNoi",
            "followers_url": "https://api.github.com/users/SubjectNoi/followers",
            "following_url": "https://api.github.com/users/SubjectNoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SubjectNoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SubjectNoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SubjectNoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SubjectNoi/orgs",
            "repos_url": "https://api.github.com/users/SubjectNoi/repos",
            "events_url": "https://api.github.com/users/SubjectNoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SubjectNoi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-01-29T03:00:31Z",
        "updated_at": "2021-01-29T03:00:31Z",
        "author_association": "NONE",
        "body": "I‘ve solved this problem by setting the domain to \"kOnnxDomain\", thanks. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/769541373/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]