[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/788270259",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6823#issuecomment-788270259",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6823",
        "id": 788270259,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODI3MDI1OQ==",
        "user": {
            "login": "wangyems",
            "id": 52801275,
            "node_id": "MDQ6VXNlcjUyODAxMjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/52801275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyems",
            "html_url": "https://github.com/wangyems",
            "followers_url": "https://api.github.com/users/wangyems/followers",
            "following_url": "https://api.github.com/users/wangyems/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyems/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyems/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyems/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyems/orgs",
            "repos_url": "https://api.github.com/users/wangyems/repos",
            "events_url": "https://api.github.com/users/wangyems/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyems/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-01T20:53:11Z",
        "updated_at": "2021-03-01T20:59:29Z",
        "author_association": "MEMBER",
        "body": "hi @jianqianzhou, onnxruntime_tools currently supports hugginface Albert onnx optimization exported from pytorch model. We plan to support tf model in the near future. \r\nYou may need to disable attention fusion to walk around this issue.\r\nBTW, opt_options = BertOptimizationOptions('bert_tf') is the right API to setup optimization for tf model from the current implementation.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/788270259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/788688364",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6823#issuecomment-788688364",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6823",
        "id": 788688364,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODY4ODM2NA==",
        "user": {
            "login": "Zjq9409",
            "id": 62974595,
            "node_id": "MDQ6VXNlcjYyOTc0NTk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/62974595?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Zjq9409",
            "html_url": "https://github.com/Zjq9409",
            "followers_url": "https://api.github.com/users/Zjq9409/followers",
            "following_url": "https://api.github.com/users/Zjq9409/following{/other_user}",
            "gists_url": "https://api.github.com/users/Zjq9409/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Zjq9409/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Zjq9409/subscriptions",
            "organizations_url": "https://api.github.com/users/Zjq9409/orgs",
            "repos_url": "https://api.github.com/users/Zjq9409/repos",
            "events_url": "https://api.github.com/users/Zjq9409/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Zjq9409/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-02T07:34:39Z",
        "updated_at": "2021-03-02T07:34:39Z",
        "author_association": "NONE",
        "body": "> hi @jianqianzhou, onnxruntime_tools currently supports hugginface Albert onnx optimization exported from pytorch model. We plan to support tf model in the near future.\r\n> You may need to disable attention fusion to walk around this issue.\r\n> BTW, opt_options = BertOptimizationOptions('bert_tf') is the right API to setup optimization for tf model from the current implementation.\r\n\r\nI modify BertOptimizationOptions ，but the Error is the same：\r\nonnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Load model from segment.opt.onnx failed:This is an invalid model. Node (StatefulPartitionedCall/tf_albert_model/albert/encoder/albert_layer_groups_._0/albert_layers_._0/attention/add) input arg (StatefulPartitionedCall/tf_albert_model/albert/mul:0) does not have type information set by parent node.\r\n\r\n`\r\noutput_model_path=\"segment.onnx\"\r\nopt_options = BertOptimizationOptions('bert_tf')\r\nopt_options.enable_embed_layer_norm = False\r\n\r\nopt_model = optimizer.optimize_model(\r\n    output_model_path,\r\n    'bert_keras',\r\n    num_heads=12,\r\n    hidden_size=768,\r\n    optimization_options=opt_options)\r\nopt_model.save_model_to_file('segment.opt.onnx')`",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/788688364/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789147637",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6823#issuecomment-789147637",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6823",
        "id": 789147637,
        "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTE0NzYzNw==",
        "user": {
            "login": "wangyems",
            "id": 52801275,
            "node_id": "MDQ6VXNlcjUyODAxMjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/52801275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyems",
            "html_url": "https://github.com/wangyems",
            "followers_url": "https://api.github.com/users/wangyems/followers",
            "following_url": "https://api.github.com/users/wangyems/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyems/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyems/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyems/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyems/orgs",
            "repos_url": "https://api.github.com/users/wangyems/repos",
            "events_url": "https://api.github.com/users/wangyems/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyems/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-02T19:15:03Z",
        "updated_at": "2021-03-02T19:15:03Z",
        "author_association": "MEMBER",
        "body": "> > hi @jianqianzhou, onnxruntime_tools currently supports hugginface Albert onnx optimization exported from pytorch model. We plan to support tf model in the near future.\r\n> > You may need to disable attention fusion to walk around this issue.\r\n> > BTW, opt_options = BertOptimizationOptions('bert_tf') is the right API to setup optimization for tf model from the current implementation.\r\n> \r\n> I modify BertOptimizationOptions ，but the Error is the same：\r\n> onnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Load model from segment.opt.onnx failed:This is an invalid model. Node (StatefulPartitionedCall/tf_albert_model/albert/encoder/albert_layer_groups_._0/albert_layers_._0/attention/add) input arg (StatefulPartitionedCall/tf_albert_model/albert/mul:0) does not have type information set by parent node.\r\n> \r\n> `\r\n> output_model_path=\"segment.onnx\"\r\n> opt_options = BertOptimizationOptions('bert_tf')\r\n> opt_options.enable_embed_layer_norm = False\r\n> \r\n> opt_model = optimizer.optimize_model(\r\n> output_model_path,\r\n> 'bert_keras',\r\n> num_heads=12,\r\n> hidden_size=768,\r\n> optimization_options=opt_options)\r\n> opt_model.save_model_to_file('segment.opt.onnx')`\r\n\r\nOK. The fix is on our plan. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/789147637/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847436867",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6823#issuecomment-847436867",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6823",
        "id": 847436867,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzQzNjg2Nw==",
        "user": {
            "login": "wangyems",
            "id": 52801275,
            "node_id": "MDQ6VXNlcjUyODAxMjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/52801275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyems",
            "html_url": "https://github.com/wangyems",
            "followers_url": "https://api.github.com/users/wangyems/followers",
            "following_url": "https://api.github.com/users/wangyems/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyems/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyems/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyems/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyems/orgs",
            "repos_url": "https://api.github.com/users/wangyems/repos",
            "events_url": "https://api.github.com/users/wangyems/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyems/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-25T00:11:55Z",
        "updated_at": "2021-05-25T00:11:55Z",
        "author_association": "MEMBER",
        "body": "Closing the issue as this issue should have been fixed",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847436867/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1014590241",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/6823#issuecomment-1014590241",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/6823",
        "id": 1014590241,
        "node_id": "IC_kwDOCVq1mM48eWsh",
        "user": {
            "login": "danielbellhv",
            "id": 84714841,
            "node_id": "MDQ6VXNlcjg0NzE0ODQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/84714841?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielbellhv",
            "html_url": "https://github.com/danielbellhv",
            "followers_url": "https://api.github.com/users/danielbellhv/followers",
            "following_url": "https://api.github.com/users/danielbellhv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielbellhv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielbellhv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielbellhv/subscriptions",
            "organizations_url": "https://api.github.com/users/danielbellhv/orgs",
            "repos_url": "https://api.github.com/users/danielbellhv/repos",
            "events_url": "https://api.github.com/users/danielbellhv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielbellhv/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-17T14:14:25Z",
        "updated_at": "2022-01-17T14:14:25Z",
        "author_association": "NONE",
        "body": "Hi, @wangyems :)\r\n\r\n>Albert onnx optimization exported from pytorch model.\r\n\r\nIs there an equivalent of `BertOptimizationOptions`  for **Albert**?\r\n\r\nI've made a [Git Issue](https://github.com/microsoft/onnxruntime/issues/10304#issue-1105816753) asking for this feature.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1014590241/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]