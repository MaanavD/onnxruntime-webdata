[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813681227",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-813681227",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 813681227,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzY4MTIyNw==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-05T22:15:28Z",
        "updated_at": "2021-04-05T22:15:28Z",
        "author_association": "MEMBER",
        "body": "Looks like everything runs on CPU. You need CUDA for this build along with TensorRT, I think.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813681227/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813701409",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-813701409",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 813701409,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzcwMTQwOQ==",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-05T23:10:07Z",
        "updated_at": "2021-04-05T23:10:07Z",
        "author_association": "NONE",
        "body": "This is running on CUDA and a V100. I can confirm by nvidia-smi. TensorRT doesnt increase the speed, but I have a reproducible issue for that here: https://github.com/microsoft/onnxruntime/issues/7230",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813701409/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813707287",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-813707287",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 813707287,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzcwNzI4Nw==",
        "user": {
            "login": "SherlockNoMad",
            "id": 9906745,
            "node_id": "MDQ6VXNlcjk5MDY3NDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9906745?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SherlockNoMad",
            "html_url": "https://github.com/SherlockNoMad",
            "followers_url": "https://api.github.com/users/SherlockNoMad/followers",
            "following_url": "https://api.github.com/users/SherlockNoMad/following{/other_user}",
            "gists_url": "https://api.github.com/users/SherlockNoMad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SherlockNoMad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SherlockNoMad/subscriptions",
            "organizations_url": "https://api.github.com/users/SherlockNoMad/orgs",
            "repos_url": "https://api.github.com/users/SherlockNoMad/repos",
            "events_url": "https://api.github.com/users/SherlockNoMad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SherlockNoMad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-05T23:27:35Z",
        "updated_at": "2021-04-05T23:27:35Z",
        "author_association": "CONTRIBUTOR",
        "body": "Hi @oborchers, I think this is due to CUDA kernel missing for Pad and LessOrEqual ops. The other \"Force fallback to CPU execution for node\" are expected, since they are doing shape-related computation. \r\n\r\nCould you please check your Pad node's input type? I guess guess they are of \"int\" types? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813707287/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813825984",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-813825984",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 813825984,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzgyNTk4NA==",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-06T05:09:15Z",
        "updated_at": "2021-04-06T05:09:15Z",
        "author_association": "NONE",
        "body": "@SherlockNoMad: Ok, thank you for the fast reply! I have uploaded all 10,609 messages here:\r\nhttps://raw.githubusercontent.com/oborchers/Medium_Repo/master/Putting%20GPT-Neo%20into%20Production%20using%C2%A0ONNX/GPT-Neo_Failures.txt\r\n\r\nMost of them look as follows:\r\n```\r\nCUDA kernel not found in registries for Op type: Pad node name: Pad_4368\r\nCUDA kernel not found in registries for Op type: Pad node name: Pad_3801\r\nCUDA kernel not found in registries for Op type: LessOrEqual node name: LessOrEqual_7094\r\nForce fallback to CPU execution for node: Gather_5\r\nForce fallback to CPU execution for node: Unsqueeze_17\r\nForce fallback to CPU execution for node: Slice_37\r\nForce fallback to CPU execution for node: Squeeze_38\r\nForce fallback to CPU execution for node: Div_66\r\nForce fallback to CPU execution for node: Add_35901\r\n```\r\n\r\nI will further check the pad node type and report back",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/813825984/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814458986",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-814458986",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 814458986,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNDQ1ODk4Ng==",
        "user": {
            "login": "SherlockNoMad",
            "id": 9906745,
            "node_id": "MDQ6VXNlcjk5MDY3NDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9906745?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SherlockNoMad",
            "html_url": "https://github.com/SherlockNoMad",
            "followers_url": "https://api.github.com/users/SherlockNoMad/followers",
            "following_url": "https://api.github.com/users/SherlockNoMad/following{/other_user}",
            "gists_url": "https://api.github.com/users/SherlockNoMad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SherlockNoMad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SherlockNoMad/subscriptions",
            "organizations_url": "https://api.github.com/users/SherlockNoMad/orgs",
            "repos_url": "https://api.github.com/users/SherlockNoMad/repos",
            "events_url": "https://api.github.com/users/SherlockNoMad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SherlockNoMad/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-06T21:45:54Z",
        "updated_at": "2021-04-06T21:45:54Z",
        "author_association": "CONTRIBUTOR",
        "body": "LessOrEqual CUDA kernel is recently merged into master. \r\nWe might be still missing the CUDA kernel for Pad with int inputs types. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/814458986/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/817133788",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-817133788",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 817133788,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzEzMzc4OA==",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-04-10T13:05:10Z",
        "updated_at": "2021-04-10T13:05:10Z",
        "author_association": "NONE",
        "body": "Thank you! I will try to check the other ops next week, as we shifted priorities.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/817133788/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/845562350",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-845562350",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 845562350,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTU2MjM1MA==",
        "user": {
            "login": "mjay2016",
            "id": 68568547,
            "node_id": "MDQ6VXNlcjY4NTY4NTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/68568547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mjay2016",
            "html_url": "https://github.com/mjay2016",
            "followers_url": "https://api.github.com/users/mjay2016/followers",
            "following_url": "https://api.github.com/users/mjay2016/following{/other_user}",
            "gists_url": "https://api.github.com/users/mjay2016/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mjay2016/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mjay2016/subscriptions",
            "organizations_url": "https://api.github.com/users/mjay2016/orgs",
            "repos_url": "https://api.github.com/users/mjay2016/repos",
            "events_url": "https://api.github.com/users/mjay2016/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mjay2016/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-21T00:10:33Z",
        "updated_at": "2021-05-21T00:10:33Z",
        "author_association": "NONE",
        "body": "any update on this? I'm also getting the similar error. \r\n\r\nRunning on similar setup\r\n\r\nRegards,\r\nMJay",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/845562350/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/854647575",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-854647575",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 854647575,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NDY0NzU3NQ==",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-04T11:51:27Z",
        "updated_at": "2021-06-06T11:36:22Z",
        "author_association": "NONE",
        "body": "@mjay2016 : Not from my side, but its likely we are soon going to need this functionality as well. @SherlockNoMad : Do you have an update on the issue?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/854647575/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856131196",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-856131196",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 856131196,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjEzMTE5Ng==",
        "user": {
            "login": "mjay2016",
            "id": 68568547,
            "node_id": "MDQ6VXNlcjY4NTY4NTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/68568547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mjay2016",
            "html_url": "https://github.com/mjay2016",
            "followers_url": "https://api.github.com/users/mjay2016/followers",
            "following_url": "https://api.github.com/users/mjay2016/following{/other_user}",
            "gists_url": "https://api.github.com/users/mjay2016/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mjay2016/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mjay2016/subscriptions",
            "organizations_url": "https://api.github.com/users/mjay2016/orgs",
            "repos_url": "https://api.github.com/users/mjay2016/repos",
            "events_url": "https://api.github.com/users/mjay2016/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mjay2016/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-07T17:36:26Z",
        "updated_at": "2021-06-07T17:36:26Z",
        "author_association": "NONE",
        "body": "@oborchers This has been fixed in the latest version of onnxruntime i.e. 1.8.\r\n\r\nWith no build I no longer see the following message.\r\n\r\n\"CUDA kernel not found in registries for Op type: Pad node name: Pad_4368\" \r\n\r\nRegards,\r\nMJay",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856131196/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856708950",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-856708950",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 856708950,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjcwODk1MA==",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-08T12:09:07Z",
        "updated_at": "2021-06-08T12:09:07Z",
        "author_association": "NONE",
        "body": "@mjay2016 : Thank you. Do you see any significant speedups compared to base torch?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856708950/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/860974075",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-860974075",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 860974075,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2MDk3NDA3NQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-14T20:35:00Z",
        "updated_at": "2021-06-18T18:16:14Z",
        "author_association": "MEMBER",
        "body": "@tianleiwu - Do you know if can/should run this model with any offline transformer model optimization tools prior to running with ORT for best performance ?",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/860974075/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/885393419",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-885393419",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 885393419,
        "node_id": "IC_kwDOCVq1mM40xggL",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-23T04:36:27Z",
        "updated_at": "2021-07-23T04:36:27Z",
        "author_association": "MEMBER",
        "body": "Hi @oborchers,\r\n\r\nCan you try to build from source (master) and try again ? \r\n\r\nSubsequent to this, we have fixed an issue with registration of `Pad` kernels for the CUDA EP and improved the kernel's performance. Based on the logs you shared above, I think the 6 Pad nodes should be placed on CUDA now and its perf should be better than before. So the improvement should be two-fold which I think should go a long way to closing the 2x gap with Torch.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/885393419/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/892736821",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-892736821",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 892736821,
        "node_id": "IC_kwDOCVq1mM41NhU1",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-04T15:06:29Z",
        "updated_at": "2021-08-04T15:06:29Z",
        "author_association": "NONE",
        "body": "Hi @hariharans29,\r\n\r\nyes, sure! I built form the last passing [onnx commit](https://github.com/microsoft/onnxruntime/commit/0cf2ed029be11a4c63eae71b5548c4c2c87cb7cf) of onnxruntime. \r\n\r\nTo be fair, this was a rather difficult endeavor to reproduce my initial results, partially because the original notebook did clone the WIP transformers `4.5.0.dev0` from master, so I had to actually go back to that specific [commit](https://github.com/huggingface/transformers/commit/04ceee7d246dcb26e13fa6aa8e3b990d6a0bf289) from the 5th of April to make an exact reproduction of the code used for benchmarking. Later version (e.g. `4.9.1`) simply aren't able to export the model at all and always run into the problem, that the `attn:unfold` operator isn't available on ONNX, see [here](https://github.com/huggingface/transformers/issues/12984).\r\n\r\nTo go back to the problem of this thread, I am re-running the model from the following configuration:\r\n\r\n```\r\nONNX: 1.8.1\r\nONNX-RT: 1.8.1\r\nTorch: 1.9.0+cu111\r\nTransformers: 4.9.1\r\nGPU available True\r\nGPU Name: Tesla V100-SXM2-32GB\r\nGPU Count: 1\r\nCORE Count: 48\r\n```\r\nCPU load is around 77-80%\r\n\r\n(Messy) Export Code:\r\n\r\n```\r\nfrom pathlib import Path\r\nimport torch\r\nimport transformers\r\nfrom transformers import convert_graph_to_onnx\r\nfrom transformers import pipeline\r\n\r\nmodel_name = \"EleutherAI/gpt-neo-1.3B\"\r\nmodel_pth = Path(f\"gpt_neo/gpt_neo_13b.onnx\")\r\nmodel_pth.parent.mkdir(exist_ok=True, parents=True)\r\n\r\nclass GPTNextToken(transformers.GPTNeoForCausalLM):\r\n    def __init__(self, config):\r\n        super().__init__(config)\r\n        self.logits = torch.nn.Identity()\r\n\r\n    def forward(self, input_ids, attention_mask):\r\n        return self.logits(super().forward(input_ids, attention_mask=attention_mask).logits[:, -1, :])\r\n\r\nmodel = GPTNextToken(config=transformers.AutoConfig.from_pretrained(model_name)).from_pretrained(model_name)\r\n\r\nnlp = pipeline(\r\n    \"feature-extraction\",\r\n    model=model,\r\n    tokenizer=model_name,\r\n)\r\n\r\ninputs = nlp.tokenizer([\"hello my friends!\"], return_tensors=\"pt\")\r\n\r\nwith torch.no_grad():\r\n    (\r\n        input_names,\r\n        output_names,\r\n        dynamic_axes,\r\n        tokens,\r\n    ) = convert_graph_to_onnx.infer_shapes(nlp, \"pt\")\r\n    ordered_input_names, model_args = convert_graph_to_onnx.ensure_valid_input(\r\n        nlp.model, tokens, input_names\r\n    )\r\n\r\ntorch.onnx.export(\r\n    model,\r\n    (inputs[\"input_ids\"], inputs[\"attention_mask\"]),\r\n    f=model_pth.as_posix(),\r\n    input_names=input_names,\r\n    output_names=output_names,\r\n    dynamic_axes=dynamic_axes,\r\n    do_constant_folding=False,\r\n    use_external_data_format=True,\r\n    enable_onnx_checker=False,\r\n    opset_version=13,\r\n)\r\n```\r\n\r\n(Messy) code for reproduction:\r\n```\r\nimport torch\r\nimport json\r\nimport numpy as np\r\nimport onnx\r\nimport onnxruntime as rt\r\nimport multiprocessing\r\nimport transformers\r\nimport time\r\nimport nltk\r\n\r\nfrom termcolor import colored\r\nfrom transformers import convert_graph_to_onnx\r\nfrom pathlib import Path\r\n\r\nnltk.download(\"brown\")\r\n\r\nprint(f\"ONNX: {onnx.__version__}\")\r\nprint(f\"ONNX-RT: {rt.__version__}\")\r\nprint(f\"Torch: {torch.__version__}\")\r\nprint(f\"Transformers: {transformers.__version__}\")\r\n\r\nprint(colored(f\"GPU available {torch.cuda.is_available()}\", \"green\"))\r\nprint(colored(f\"GPU Name: {torch.cuda.get_device_name(0)}\", \"green\"))\r\nprint(colored(f\"GPU Count: {torch.cuda.device_count()}\", \"green\"))\r\nprint(colored(f\"CORE Count: {multiprocessing.cpu_count()}\", \"green\"))\r\n\r\nopt = rt.SessionOptions()\r\nopt.graph_optimization_level = rt.GraphOptimizationLevel.ORT_ENABLE_EXTENDED\r\nopt.log_severity_level = 0\r\nopt.intra_op_num_threads = multiprocessing.cpu_count()\r\nopt.execution_mode = rt.ExecutionMode.ORT_SEQUENTIAL\r\n\r\nmodel_name = \"EleutherAI/gpt-neo-1.3B\"\r\n\r\ntokenizer = transformers.AutoTokenizer.from_pretrained(model_name)\r\n\r\nprint(\"Loading model\")\r\nmodel_pth = Path(f\"gpt_neo/gpt_neo_13b.onnx\")\r\nproviders = [\"CUDAExecutionProvider\", \"CPUExecutionProvider\"]\r\nsess = rt.InferenceSession(str(model_pth), opt, providers=providers)\r\n\r\nprint(\"Starting benchmark\")\r\n\r\nMAX_SENTENCES = 1_000\r\n\r\nsents = [\" \".join(sent) for sent in nltk.corpus.brown.sents()][:MAX_SENTENCES]\r\n\r\nstart = time.time()\r\nfor _ in range(len(sents)):\r\n    model_input = tokenizer.encode_plus(\"hello my friends!\")\r\n    model_input = {name : np.atleast_2d(value) for name, value in model_input.items()}\r\n    _ = sess.run(None, model_input)\r\n\r\nduration = int(time.time() - start)\r\nspeed = int(MAX_SENTENCES / duration)\r\nprint(f\"encoding {MAX_SENTENCES} sentences took {duration}s at {speed} sentences/s.\")\r\n```\r\n\r\nResult: **Exactly the same, even a bit slower**: Encoding 1000 sentences took 327s at 3 sentences/s.\r\n\r\nGiven those considerations, I am not really sure if that was the problem to begin with.\r\n\r\nFor better understanding, I have also uploaded the full logs of the run.\r\nLOGS: https://drive.google.com/file/d/1_4R2GjpCw39D3hBeTbHAZf3WAoLq0QRl/view?usp=sharing\r\n\r\nIf anyone wants to try this out or reproduce the issue, here is the `1.3B` checkpoint from the export (2.6gb): \r\nhttps://drive.google.com/file/d/16EFWBOu6utPmyUbnDTXpbv1iR_B0plad/view?usp=sharing",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/892736821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/892745157",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-892745157",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 892745157,
        "node_id": "IC_kwDOCVq1mM41NjXF",
        "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-04T15:16:24Z",
        "updated_at": "2021-08-04T15:16:24Z",
        "author_association": "NONE",
        "body": "Small addition: @mfuntowicz provided a PR to ease the export I wasn't aware of. Will play around with those soon to see if this has any effect on performance.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/892745157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909534831",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-909534831",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 909534831,
        "node_id": "IC_kwDOCVq1mM42NmZv",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-31T19:21:37Z",
        "updated_at": "2021-08-31T19:21:37Z",
        "author_association": "MEMBER",
        "body": "Thanks a lot for trying @oborchers.\r\n\r\nRecently, we identified some inefficiencies with running certain subgraph heavy models using the CUDA EP. I wonder if that is one of the factors affecting perf here.  These are being addressed in https://github.com/microsoft/onnxruntime/pull/8702 and https://github.com/microsoft/onnxruntime/pull/8642. Perhaps you could please try with these commits once they are merged to master ?\r\n\r\nAlso, how does ORT CPU compare with Torch CPU ? ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/909534831/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1163927833",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7238#issuecomment-1163927833",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7238",
        "id": 1163927833,
        "node_id": "IC_kwDOCVq1mM5FYCEZ",
        "user": {
            "login": "SnoozingSimian",
            "id": 45364686,
            "node_id": "MDQ6VXNlcjQ1MzY0Njg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/45364686?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SnoozingSimian",
            "html_url": "https://github.com/SnoozingSimian",
            "followers_url": "https://api.github.com/users/SnoozingSimian/followers",
            "following_url": "https://api.github.com/users/SnoozingSimian/following{/other_user}",
            "gists_url": "https://api.github.com/users/SnoozingSimian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SnoozingSimian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SnoozingSimian/subscriptions",
            "organizations_url": "https://api.github.com/users/SnoozingSimian/orgs",
            "repos_url": "https://api.github.com/users/SnoozingSimian/repos",
            "events_url": "https://api.github.com/users/SnoozingSimian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SnoozingSimian/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-06-23T04:55:50Z",
        "updated_at": "2022-06-23T04:55:50Z",
        "author_association": "NONE",
        "body": "Are there any updates on this?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1163927833/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]