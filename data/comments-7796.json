[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847353318",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-847353318",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 847353318,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzM1MzMxOA==",
        "user": {
            "login": "wangyems",
            "id": 52801275,
            "node_id": "MDQ6VXNlcjUyODAxMjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/52801275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyems",
            "html_url": "https://github.com/wangyems",
            "followers_url": "https://api.github.com/users/wangyems/followers",
            "following_url": "https://api.github.com/users/wangyems/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyems/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyems/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyems/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyems/orgs",
            "repos_url": "https://api.github.com/users/wangyems/repos",
            "events_url": "https://api.github.com/users/wangyems/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyems/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-24T21:38:39Z",
        "updated_at": "2021-05-24T21:38:39Z",
        "author_association": "MEMBER",
        "body": "Thanks @anshoomehra for providing the repro! I'll take a look",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847353318/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847434089",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-847434089",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 847434089,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzQzNDA4OQ==",
        "user": {
            "login": "wangyems",
            "id": 52801275,
            "node_id": "MDQ6VXNlcjUyODAxMjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/52801275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyems",
            "html_url": "https://github.com/wangyems",
            "followers_url": "https://api.github.com/users/wangyems/followers",
            "following_url": "https://api.github.com/users/wangyems/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyems/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyems/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyems/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyems/orgs",
            "repos_url": "https://api.github.com/users/wangyems/repos",
            "events_url": "https://api.github.com/users/wangyems/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyems/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-25T00:05:20Z",
        "updated_at": "2021-05-25T00:05:20Z",
        "author_association": "MEMBER",
        "body": "Hi @anshoomehra, based on your code there are two things you can do to improve the performance:\r\n1. eliminate the multiple rounds of data copy from host to device when feeding the decoder_inputs. you can take a look at https://www.onnxruntime.ai/python/api_summary#iobinding\r\n2. apply optimizer to each of the onnx model: https://github.com/microsoft/onnxruntime/tree/master/onnxruntime/python/tools/transformers#model-optimizer and using 'bert' as model_type",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847434089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847461171",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-847461171",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 847461171,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzQ2MTE3MQ==",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-25T01:23:14Z",
        "updated_at": "2021-05-25T01:23:14Z",
        "author_association": "MEMBER",
        "body": "@anshoomehra\r\n\r\nFor #1, you can refer to example of GPT-2 to keep inputs and outputs in GPU during text generation (all intermediate tensors shall be in GPU, and not copied to CPU) : https://github.com/microsoft/onnxruntime/blob/a41255c280b06a7de748f211af42abccc724a225/onnxruntime/python/tools/transformers/gpt2_helper.py#L486-L502\r\n\r\nExample change for #2 (optimizer):\r\n[test_bart.zip](https://github.com/microsoft/onnxruntime/files/6535715/test_bart.zip)\r\n\r\nLet us know whether the issue can be resolved using these two changes.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/847461171/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/849803992",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-849803992",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 849803992,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTgwMzk5Mg==",
        "user": {
            "login": "anshoomehra",
            "id": 24396120,
            "node_id": "MDQ6VXNlcjI0Mzk2MTIw",
            "avatar_url": "https://avatars.githubusercontent.com/u/24396120?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anshoomehra",
            "html_url": "https://github.com/anshoomehra",
            "followers_url": "https://api.github.com/users/anshoomehra/followers",
            "following_url": "https://api.github.com/users/anshoomehra/following{/other_user}",
            "gists_url": "https://api.github.com/users/anshoomehra/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anshoomehra/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anshoomehra/subscriptions",
            "organizations_url": "https://api.github.com/users/anshoomehra/orgs",
            "repos_url": "https://api.github.com/users/anshoomehra/repos",
            "events_url": "https://api.github.com/users/anshoomehra/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anshoomehra/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-05-27T17:18:10Z",
        "updated_at": "2021-05-27T17:18:10Z",
        "author_association": "NONE",
        "body": "@wangyems & @tianleiwu truly appreciate the inputs & revised code. Working on changing the variable bindings and understanding the optimized code. I tried running code with optimization set as 'BERT' the model fails with below error, the model we are looking here is B**A**RT (Text Generation, producing summaries) not BERT. Is BERT the right choice? If not, is there support for BART? If not, can we instead use gpt-x being close match?\r\n\r\n![image](https://user-images.githubusercontent.com/24396120/119869125-e137f700-beed-11eb-9dbf-00fb157f037a.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/849803992/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1009369402",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-1009369402",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 1009369402,
        "node_id": "IC_kwDOCVq1mM48KcE6",
        "user": {
            "login": "sam-writer",
            "id": 47401552,
            "node_id": "MDQ6VXNlcjQ3NDAxNTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/47401552?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sam-writer",
            "html_url": "https://github.com/sam-writer",
            "followers_url": "https://api.github.com/users/sam-writer/followers",
            "following_url": "https://api.github.com/users/sam-writer/following{/other_user}",
            "gists_url": "https://api.github.com/users/sam-writer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sam-writer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sam-writer/subscriptions",
            "organizations_url": "https://api.github.com/users/sam-writer/orgs",
            "repos_url": "https://api.github.com/users/sam-writer/repos",
            "events_url": "https://api.github.com/users/sam-writer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sam-writer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-10T21:38:52Z",
        "updated_at": "2022-01-10T21:38:52Z",
        "author_association": "NONE",
        "body": "I am curious about this... we're using T5 which is similar to BART",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1009369402/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1016926422",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-1016926422",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 1016926422,
        "node_id": "IC_kwDOCVq1mM48nRDW",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-19T22:22:12Z",
        "updated_at": "2022-01-19T22:22:12Z",
        "author_association": "MEMBER",
        "body": "@sam-writer, the merged PR #8698 shall improve BART performance. For T5, the DecoderAttention operator need slight change.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1016926422/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100599304",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7796#issuecomment-1100599304",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7796",
        "id": 1100599304,
        "node_id": "IC_kwDOCVq1mM5BmdAI",
        "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "created_at": "2022-04-16T07:54:52Z",
        "updated_at": "2022-04-16T07:54:52Z",
        "author_association": "NONE",
        "body": "This issue has been automatically marked as stale due to inactivity and will be closed in 7 days if no further activity occurs. If further support is needed, please provide an update and/or more details.\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1100599304/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]