[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856162283",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-856162283",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 856162283,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjE2MjI4Mw==",
        "user": {
            "login": "tianleiwu",
            "id": 30328909,
            "node_id": "MDQ6VXNlcjMwMzI4OTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30328909?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tianleiwu",
            "html_url": "https://github.com/tianleiwu",
            "followers_url": "https://api.github.com/users/tianleiwu/followers",
            "following_url": "https://api.github.com/users/tianleiwu/following{/other_user}",
            "gists_url": "https://api.github.com/users/tianleiwu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tianleiwu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tianleiwu/subscriptions",
            "organizations_url": "https://api.github.com/users/tianleiwu/orgs",
            "repos_url": "https://api.github.com/users/tianleiwu/repos",
            "events_url": "https://api.github.com/users/tianleiwu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tianleiwu/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-07T18:25:12Z",
        "updated_at": "2021-06-07T18:25:12Z",
        "author_association": "MEMBER",
        "body": "The model has Conv operator. \r\n@SherlockNoMad, @hariharans29 to verify the performance impact of Conv changes in 1.8 on this model.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856162283/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856175331",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-856175331",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 856175331,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjE3NTMzMQ==",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-07T18:47:33Z",
        "updated_at": "2021-06-07T18:47:33Z",
        "author_association": "MEMBER",
        "body": "@tianleiwu - I noticed it. We reverted one aspect of the Conv change (which was the way 1D Conv was handled inside the kernel). The other major change in @SherlockNoMad 's PR was to do with tweaking amount of memory for the CuDNN API that finds the best algo for this case. I wonder if the \"best\" algo picked by CuDNN has changed between 1.7 and 1.8 and somehow the \"best\" Conv algo picked by CuDNN in 1.8 doesn't seem to be working as performant as expected.   ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/856175331/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864308390",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-864308390",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 864308390,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDMwODM5MA==",
        "user": {
            "login": "pranavsharma",
            "id": 2732907,
            "node_id": "MDQ6VXNlcjI3MzI5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2732907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pranavsharma",
            "html_url": "https://github.com/pranavsharma",
            "followers_url": "https://api.github.com/users/pranavsharma/followers",
            "following_url": "https://api.github.com/users/pranavsharma/following{/other_user}",
            "gists_url": "https://api.github.com/users/pranavsharma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pranavsharma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pranavsharma/subscriptions",
            "organizations_url": "https://api.github.com/users/pranavsharma/orgs",
            "repos_url": "https://api.github.com/users/pranavsharma/repos",
            "events_url": "https://api.github.com/users/pranavsharma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pranavsharma/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-18T22:52:06Z",
        "updated_at": "2021-06-18T22:52:06Z",
        "author_association": "MEMBER",
        "body": "I can't repro this. \r\n\r\n(pranav_py8) pranav@OrtTrainingDev3:~$ python t-ort.py\r\nVersion:  1.7.0  average time taken:  9.729693389032036\r\n\r\n(/bert_ort/pranav/py38) pranav@OrtTrainingDev3:~$ python t-ort.py\r\nVersion:  1.8.0  average time taken:  8.394780728034675\r\n\r\nTest script is here https://gist.github.com/pranavsharma/b46ae613e17b95c93ac3477ede4a9c04",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864308390/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/879023269",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-879023269",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 879023269,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTAyMzI2OQ==",
        "user": {
            "login": "iperov",
            "id": 8076202,
            "node_id": "MDQ6VXNlcjgwNzYyMDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8076202?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iperov",
            "html_url": "https://github.com/iperov",
            "followers_url": "https://api.github.com/users/iperov/followers",
            "following_url": "https://api.github.com/users/iperov/following{/other_user}",
            "gists_url": "https://api.github.com/users/iperov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iperov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iperov/subscriptions",
            "organizations_url": "https://api.github.com/users/iperov/orgs",
            "repos_url": "https://api.github.com/users/iperov/repos",
            "events_url": "https://api.github.com/users/iperov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iperov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-13T11:54:27Z",
        "updated_at": "2021-07-13T11:54:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "fixed in 1.8.1 , thanks.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/879023269/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905756335",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-905756335",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 905756335,
        "node_id": "IC_kwDOCVq1mM41_L6v",
        "user": {
            "login": "hariharans29",
            "id": 9969784,
            "node_id": "MDQ6VXNlcjk5Njk3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9969784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hariharans29",
            "html_url": "https://github.com/hariharans29",
            "followers_url": "https://api.github.com/users/hariharans29/followers",
            "following_url": "https://api.github.com/users/hariharans29/following{/other_user}",
            "gists_url": "https://api.github.com/users/hariharans29/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hariharans29/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hariharans29/subscriptions",
            "organizations_url": "https://api.github.com/users/hariharans29/orgs",
            "repos_url": "https://api.github.com/users/hariharans29/repos",
            "events_url": "https://api.github.com/users/hariharans29/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hariharans29/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-25T18:03:34Z",
        "updated_at": "2021-08-25T18:03:34Z",
        "author_association": "MEMBER",
        "body": "Hi @iperov,\r\n\r\nCurious - by chance, was it the first run (i.e.) warm-up run that was slower in 1.8.0 when compared to the warm-up run in 1.7.0 ? We had added some logic for CuDNN to pick the \"best\" convolution algo in 1.8.0 and in theory this should have performed better than 1.7.0. But I guess the warm-up run could have been slower because CuDNN was taking more time to pick the \"best\" algo. Possibly subsequent runs were faster once the best algo had been picked and cached in the warm-up run. \r\n\r\nIn 1.8.1, we had to pull out the best algo picking logic because it had other memory usage issues that we plan to fix and possibly re-introduce soon. So could you please re-visit the 1.7.0 vs 1.8.0 benchmarking and compare perfs after the warm-up runs ?\r\n\r\n  ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905756335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905824818",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/7966#issuecomment-905824818",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/7966",
        "id": 905824818,
        "node_id": "IC_kwDOCVq1mM41_coy",
        "user": {
            "login": "iperov",
            "id": 8076202,
            "node_id": "MDQ6VXNlcjgwNzYyMDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8076202?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iperov",
            "html_url": "https://github.com/iperov",
            "followers_url": "https://api.github.com/users/iperov/followers",
            "following_url": "https://api.github.com/users/iperov/following{/other_user}",
            "gists_url": "https://api.github.com/users/iperov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iperov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iperov/subscriptions",
            "organizations_url": "https://api.github.com/users/iperov/orgs",
            "repos_url": "https://api.github.com/users/iperov/repos",
            "events_url": "https://api.github.com/users/iperov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iperov/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-08-25T19:48:19Z",
        "updated_at": "2021-08-25T19:58:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "@hariharans29 \r\n\r\ntested. Performance is even worse. No such \"pre warm\" behaviour. Just constantly slow inference.\r\n\r\n1.8.1 :\r\n![python_2021-08-25_23-39-38](https://user-images.githubusercontent.com/8076202/130854565-8a23f7c2-7fe7-443f-bd61-912ab3045c7e.png)\r\n\r\n1.8.0:\r\n![python_2021-08-25_23-42-16](https://user-images.githubusercontent.com/8076202/130854586-7325b866-0d6d-415c-9b4d-a779b42d8722.png)\r\n\r\nyou can reproduce it on your computer with Windows 10\r\n\r\n1) Download last deepfacelive build from https://github.com/iperov/DeepFaceLive It is standalone all-in-one portable folder.\r\n\r\n2) enter _internal/python_console.bat Remove 1.8.1 and install 1.8.0 as on screenshot\r\n![firefox_2021-08-25_23-40-36](https://user-images.githubusercontent.com/8076202/130854757-06bc3a1b-fb4b-4dff-a2dc-ea449d106c59.png)\r\n\r\n3) run _internal/vscode.bat and uncomment first lines in main.py :\r\n![Code_2021-08-25_23-46-59](https://user-images.githubusercontent.com/8076202/130855020-939d12d2-aa1f-466b-9a17-aa6af599bfa3.png)\r\n\r\n4) run DeepFaceLive.bat and set all settings as on screenshot.\r\n\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/905824818/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]