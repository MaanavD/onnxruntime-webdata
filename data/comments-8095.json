[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864670936",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-864670936",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 864670936,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDY3MDkzNg==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-21T02:06:27Z",
        "updated_at": "2021-06-21T02:06:27Z",
        "author_association": "CONTRIBUTOR",
        "body": "We need more information to investigate the crash. \r\nPlease share the model, or let us know which model you were using if it is a pre-trained pytorch model.\r\nHave you tried running the project without NNAPI, did it crash also?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864670936/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864705242",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-864705242",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 864705242,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDcwNTI0Mg==",
        "user": {
            "login": "xyannly",
            "id": 40239008,
            "node_id": "MDQ6VXNlcjQwMjM5MDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/40239008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xyannly",
            "html_url": "https://github.com/xyannly",
            "followers_url": "https://api.github.com/users/xyannly/followers",
            "following_url": "https://api.github.com/users/xyannly/following{/other_user}",
            "gists_url": "https://api.github.com/users/xyannly/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xyannly/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xyannly/subscriptions",
            "organizations_url": "https://api.github.com/users/xyannly/orgs",
            "repos_url": "https://api.github.com/users/xyannly/repos",
            "events_url": "https://api.github.com/users/xyannly/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xyannly/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-21T03:53:33Z",
        "updated_at": "2021-06-21T03:53:33Z",
        "author_association": "NONE",
        "body": "I tried to comment the \"addNNapi()\" and the program still crashed.\r\nThe model is given in [model](https://drive.google.com/file/d/1v686mSlweVwCAPJa8WJYrdbw11gjzwZ_/view?usp=sharing). \r\n\r\nI found another model with three input nodes in the onnxruntime release--[partial-inputs-test-2.onnx](https://github.com/microsoft/onnxruntime/blob/master/java/testdata/partial-inputs-test-2.onnx). I converted this model to ort format and tried to run the inference, the program still crashed.\r\n\r\nThe commad I used to do the conversion of ONNX format models to ORT format is:\r\n`python -m onnxruntime.tools.convert_onnx_models_to_ort --optimization_level basic ./model_path`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/864705242/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865280983",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-865280983",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 865280983,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTI4MDk4Mw==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-21T19:15:09Z",
        "updated_at": "2021-06-22T00:00:48Z",
        "author_association": "CONTRIBUTOR",
        "body": "If you use `python -m onnxruntime.tools.convert_onnx_models_to_ort --optimization_level basic ./model_path` to convert the model to ort format, the model you shared will be converted to a 800MB model, and ORT will throw out of memory error, since the memory is a limited resource on mobile platform.\r\n\r\nYou may try to convert the model using `--optimization_level disable` to reduce the model size, unfortunately, the current pre-built onnxruntime-mobile does not support some operators in the model, you would need to custom build your own onnxruntime-mobile binary, please see https://www.onnxruntime.ai/docs/how-to/mobile/custom-build.html\r\n\r\nI have also tried the [partial-inputs-test-2.onnx](https://github.com/microsoft/onnxruntime/blob/master/java/testdata/partial-inputs-test-2.onnx) with  onnxruntime-mobile-1.8.0.aar from maven, it worked on both Emulator and Google Pixel 3a phone.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865280983/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865441369",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-865441369",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 865441369,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTQ0MTM2OQ==",
        "user": {
            "login": "skottmckay",
            "id": 979079,
            "node_id": "MDQ6VXNlcjk3OTA3OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/979079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skottmckay",
            "html_url": "https://github.com/skottmckay",
            "followers_url": "https://api.github.com/users/skottmckay/followers",
            "following_url": "https://api.github.com/users/skottmckay/following{/other_user}",
            "gists_url": "https://api.github.com/users/skottmckay/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skottmckay/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skottmckay/subscriptions",
            "organizations_url": "https://api.github.com/users/skottmckay/orgs",
            "repos_url": "https://api.github.com/users/skottmckay/repos",
            "events_url": "https://api.github.com/users/skottmckay/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skottmckay/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-22T00:53:50Z",
        "updated_at": "2021-06-22T00:53:50Z",
        "author_association": "MEMBER",
        "body": "Note that the model is growing due to some nodes being able to be constant folded (i.e. their output can be pre-calculated as all the inputs are known), with initializers being created for those output values. The worst offenders are these outputs which are well over 200MB each:\r\n\r\n```\r\nName=59 Shape=[8, 32, 512, 466] NumElements=61079552 (output of Tile_28)\r\nName=129 Shape=[8, 32, 512, 512] NumElements=67108864 (output of Tile_64)\r\nName=199 Shape=[8, 32, 462, 512] NumElements=60555264 (output of Tile_100)\r\n```\r\n\r\nYou may get lower memory usage by not allowing constant folding to take place by disabling the optimizations as suggested, as all those values may not need to be present at the same time when running the model. Cost of that is performance though as the values will get re-calculated every run instead of coming from initializers. ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865441369/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865515139",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-865515139",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 865515139,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTUxNTEzOQ==",
        "user": {
            "login": "xyannly",
            "id": 40239008,
            "node_id": "MDQ6VXNlcjQwMjM5MDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/40239008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xyannly",
            "html_url": "https://github.com/xyannly",
            "followers_url": "https://api.github.com/users/xyannly/followers",
            "following_url": "https://api.github.com/users/xyannly/following{/other_user}",
            "gists_url": "https://api.github.com/users/xyannly/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xyannly/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xyannly/subscriptions",
            "organizations_url": "https://api.github.com/users/xyannly/orgs",
            "repos_url": "https://api.github.com/users/xyannly/repos",
            "events_url": "https://api.github.com/users/xyannly/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xyannly/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-22T04:17:25Z",
        "updated_at": "2021-06-22T04:17:25Z",
        "author_association": "NONE",
        "body": "Thanks for your replying, I checked the model for ort conversion, and I‘m sorry for giving the onnx format model with wrong input dimension. Here are the right mdoels with onnx format and basic.ort [model](https://drive.google.com/drive/folders/1mZHNq2wvTijQOWB00epB_ko5mk4KmaJ6?usp=sharing). Please try again. As for **partial-inputs-test-2.onnx**, I tried the model with code above and it still not work. If you can also run my model, there must be some errors in my code, could you please share the code?  Thanks a lot! \r\n\r\nAdditionally, here are the configs in my andorid project:\r\n\r\n**gradle.build**\r\n![image](https://user-images.githubusercontent.com/40239008/122861443-10595100-d352-11eb-9ff0-0d1815d68192.png)\r\n\r\n**AndroidManifest.xml**\r\n![image](https://user-images.githubusercontent.com/40239008/122861688-6e863400-d352-11eb-93ba-c61272f9f8c1.png)\r\n\r\nThe MainAcitvity is \r\n![image](https://user-images.githubusercontent.com/40239008/122861870-c0c75500-d352-11eb-9662-1de782ec1cd8.png)\r\n\r\nJDK version: 1.8",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/865515139/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866285524",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-866285524",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 866285524,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjI4NTUyNA==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-22T19:50:36Z",
        "updated_at": "2021-06-22T19:51:26Z",
        "author_association": "CONTRIBUTOR",
        "body": "There is a bug in our java API for 32bit Android system (arm32 or x86), a fix is in progress, to temporarily unblock, please try to use Android Emulator in x86_64 flavor.\r\nThanks for reporting this issue.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866285524/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866437530",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-866437530",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 866437530,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQzNzUzMA==",
        "user": {
            "login": "guoyu-wang",
            "id": 62914304,
            "node_id": "MDQ6VXNlcjYyOTE0MzA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/62914304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guoyu-wang",
            "html_url": "https://github.com/guoyu-wang",
            "followers_url": "https://api.github.com/users/guoyu-wang/followers",
            "following_url": "https://api.github.com/users/guoyu-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/guoyu-wang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guoyu-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guoyu-wang/subscriptions",
            "organizations_url": "https://api.github.com/users/guoyu-wang/orgs",
            "repos_url": "https://api.github.com/users/guoyu-wang/repos",
            "events_url": "https://api.github.com/users/guoyu-wang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guoyu-wang/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-23T00:49:16Z",
        "updated_at": "2021-06-23T00:49:16Z",
        "author_association": "CONTRIBUTOR",
        "body": "The fix to this issue is merged, and the fix will be part of  onnxruntime-mobile-1.8.1 patch release.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866437530/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866634945",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8095#issuecomment-866634945",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8095",
        "id": 866634945,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjYzNDk0NQ==",
        "user": {
            "login": "xyannly",
            "id": 40239008,
            "node_id": "MDQ6VXNlcjQwMjM5MDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/40239008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xyannly",
            "html_url": "https://github.com/xyannly",
            "followers_url": "https://api.github.com/users/xyannly/followers",
            "following_url": "https://api.github.com/users/xyannly/following{/other_user}",
            "gists_url": "https://api.github.com/users/xyannly/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xyannly/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xyannly/subscriptions",
            "organizations_url": "https://api.github.com/users/xyannly/orgs",
            "repos_url": "https://api.github.com/users/xyannly/repos",
            "events_url": "https://api.github.com/users/xyannly/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xyannly/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-23T08:21:45Z",
        "updated_at": "2021-06-23T08:21:45Z",
        "author_association": "NONE",
        "body": "I tried to inference the model by using Android Emulator in x86_64 flavor, and it worked! Thanks a lot for your replying.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866634945/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]