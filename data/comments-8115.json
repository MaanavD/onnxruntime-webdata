[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866206813",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8115#issuecomment-866206813",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8115",
        "id": 866206813,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjIwNjgxMw==",
        "user": {
            "login": "yuslepukhin",
            "id": 11303988,
            "node_id": "MDQ6VXNlcjExMzAzOTg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11303988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yuslepukhin",
            "html_url": "https://github.com/yuslepukhin",
            "followers_url": "https://api.github.com/users/yuslepukhin/followers",
            "following_url": "https://api.github.com/users/yuslepukhin/following{/other_user}",
            "gists_url": "https://api.github.com/users/yuslepukhin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yuslepukhin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yuslepukhin/subscriptions",
            "organizations_url": "https://api.github.com/users/yuslepukhin/orgs",
            "repos_url": "https://api.github.com/users/yuslepukhin/repos",
            "events_url": "https://api.github.com/users/yuslepukhin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yuslepukhin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-22T17:59:26Z",
        "updated_at": "2021-06-22T17:59:26Z",
        "author_association": "MEMBER",
        "body": "Cc: @askhade ",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/866206813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/867735264",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8115#issuecomment-867735264",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8115",
        "id": 867735264,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzczNTI2NA==",
        "user": {
            "login": "jcwchen",
            "id": 14194980,
            "node_id": "MDQ6VXNlcjE0MTk0OTgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14194980?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcwchen",
            "html_url": "https://github.com/jcwchen",
            "followers_url": "https://api.github.com/users/jcwchen/followers",
            "following_url": "https://api.github.com/users/jcwchen/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcwchen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcwchen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcwchen/subscriptions",
            "organizations_url": "https://api.github.com/users/jcwchen/orgs",
            "repos_url": "https://api.github.com/users/jcwchen/repos",
            "events_url": "https://api.github.com/users/jcwchen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcwchen/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-24T15:33:12Z",
        "updated_at": "2021-06-24T15:33:12Z",
        "author_association": "MEMBER",
        "body": "Hi @leqiao-1,\r\n\r\nAfter investigation and discussion, we identify it as a mode bug. ONNX has improved [its shape inference](https://github.com/onnx/onnx/pull/3394) in 1.9.0 (which ORT 1.8.0 is using) so this error wasn't caught by ORT 1.7.0 (using ONNX 1.8.0).\r\n\r\nIn ONNX, [Concat op](https://github.com/onnx/onnx/blob/3c857c57826cf434626cb8c99f0b9517efb62451/onnx/defs/tensor/defs.cc#L448) does not allow inputs have different rank.\r\n\r\n![image](https://user-images.githubusercontent.com/14194980/123289222-1d4a8180-d4c5-11eb-9289-b1ea35fd14a8.png)\r\n\r\n- ORT 1.8.0 (ONNX 1.9.0): As shown above, the shapes of 274 and 275 are both 1D tensor, but the shapes of 1622 and 1623 are 0D tensor (scalar). Their rank are different: 1 vs 0. This error is expected.\r\n- ORT 1.7.0 (ONNX 1.8.0) : the shapes of 274 and 275 are both 0D tensor and the shapes of 1622 and 1623 are 0D tensor (scalar). Their rank are same: 0 vs 0 so ORT does not catch this error. The reason is the shape op inference does not function correctly, which is not right.\r\n\r\nTo fix this, please promote the initializers which your model is using for Concat nodes (there are a few of them) from scalar (0D tensor) to 1D tensor. It should help your Concat nodes meet ONNX's requirement and resolve this error. Thank you!\r\n\r\ncc @askhade @RandySheriff @gramalingam @EmmaNingMS",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/867735264/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/868015849",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/8115#issuecomment-868015849",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/8115",
        "id": 868015849,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODAxNTg0OQ==",
        "user": {
            "login": "leqiao-1",
            "id": 61653207,
            "node_id": "MDQ6VXNlcjYxNjUzMjA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/61653207?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leqiao-1",
            "html_url": "https://github.com/leqiao-1",
            "followers_url": "https://api.github.com/users/leqiao-1/followers",
            "following_url": "https://api.github.com/users/leqiao-1/following{/other_user}",
            "gists_url": "https://api.github.com/users/leqiao-1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leqiao-1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leqiao-1/subscriptions",
            "organizations_url": "https://api.github.com/users/leqiao-1/orgs",
            "repos_url": "https://api.github.com/users/leqiao-1/repos",
            "events_url": "https://api.github.com/users/leqiao-1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leqiao-1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-06-24T23:03:56Z",
        "updated_at": "2021-06-24T23:03:56Z",
        "author_association": "MEMBER",
        "body": "Thanks for your help. I will have a try. \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/868015849/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]