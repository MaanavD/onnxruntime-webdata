[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/921958892",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9099#issuecomment-921958892",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9099",
        "id": 921958892,
        "node_id": "IC_kwDOCVq1mM428_ns",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-17T17:21:56Z",
        "updated_at": "2021-09-17T17:26:30Z",
        "author_association": "MEMBER",
        "body": "@IdoZach , your model version is with opset 11, which doesn't support MaxPool with int8/uint8. Please upgrade your model to opset12 and above to remove the Quant/Dequant. You may refer to this wiki to upgrade your onnx version: https://github.com/onnx/onnx/blob/master/docs/PythonAPIOverview.md#converting-version-of-an-onnx-model-within-default-domain-aionnx \r\n\r\nWill add this info into our wiki. You are very welcome to contribute this too: https://github.com/microsoft/onnxruntime/blob/gh-pages/docs/performance/quantization.md",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/921958892/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/922324634",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9099#issuecomment-922324634",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9099",
        "id": 922324634,
        "node_id": "IC_kwDOCVq1mM42-Y6a",
        "user": {
            "login": "IdoZach",
            "id": 25578860,
            "node_id": "MDQ6VXNlcjI1NTc4ODYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/25578860?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/IdoZach",
            "html_url": "https://github.com/IdoZach",
            "followers_url": "https://api.github.com/users/IdoZach/followers",
            "following_url": "https://api.github.com/users/IdoZach/following{/other_user}",
            "gists_url": "https://api.github.com/users/IdoZach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/IdoZach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/IdoZach/subscriptions",
            "organizations_url": "https://api.github.com/users/IdoZach/orgs",
            "repos_url": "https://api.github.com/users/IdoZach/repos",
            "events_url": "https://api.github.com/users/IdoZach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/IdoZach/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-18T15:00:45Z",
        "updated_at": "2021-09-18T15:00:45Z",
        "author_association": "NONE",
        "body": "When using `opset=12`, I do get a cleaner onnx model (image below), but when I rebuild the onnxruntime libraries to match the requirements config (below), I get a runtime error when using the resulting ORT model, converted with _basic_ optimization level. I'm using, as before, NDK 21 and Android API 29, to build the libraries.\r\n\r\nConfig:\r\n```\r\nai.onnx;10;DequantizeLinear,QLinearConv,QuantizeLinear\r\nai.onnx;12;MaxPool\r\ncom.microsoft;1;QLinearAdd\r\n```\r\nquantized model (excerpt):\r\n![image](https://user-images.githubusercontent.com/25578860/133893065-e6660555-1412-4f5d-a3fa-843833fe1bd9.png)\r\n\r\nRuntime error when starting the session:\r\n```\r\nE/Utils: NN_RET_CHECK failed (frameworks/ml/nn/common/Utils.cpp:520): type.scale > 0.f (type.scale = 0, 0.f = 0) ANeuralNetworksModel_addOperand invalid scale\r\n    NN_RET_CHECK failed (frameworks/ml/nn/common/Utils.cpp:611): validateQuant8AsymmParams(type, tag) \r\nE/onnxruntime:  [E:onnxruntime:ort-java, graph_partitioner.cc:459 PartitionOrtFormatModelImpl] EP: NnapiExecutionProvider has Compile error: model_builder.cc:412 AddNewNNAPIOperand ResultCode: ANEURALNETWORKS_BAD_DATA\r\nE/mainAct: session err\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/922324634/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/923360893",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9099#issuecomment-923360893",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9099",
        "id": 923360893,
        "node_id": "IC_kwDOCVq1mM43CV59",
        "user": {
            "login": "yufenglee",
            "id": 30486710,
            "node_id": "MDQ6VXNlcjMwNDg2NzEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30486710?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yufenglee",
            "html_url": "https://github.com/yufenglee",
            "followers_url": "https://api.github.com/users/yufenglee/followers",
            "following_url": "https://api.github.com/users/yufenglee/following{/other_user}",
            "gists_url": "https://api.github.com/users/yufenglee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yufenglee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yufenglee/subscriptions",
            "organizations_url": "https://api.github.com/users/yufenglee/orgs",
            "repos_url": "https://api.github.com/users/yufenglee/repos",
            "events_url": "https://api.github.com/users/yufenglee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yufenglee/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-20T22:00:21Z",
        "updated_at": "2021-09-20T22:00:21Z",
        "author_association": "MEMBER",
        "body": "Add @gwang-msft for FYI. As the error info says, the scale of one QLinearAdd is 0.f, which is not allowed.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/923360893/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]