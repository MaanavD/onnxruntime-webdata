[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/490701207",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-490701207",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 490701207,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDcwMTIwNw==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-09T00:42:10Z",
        "updated_at": "2019-05-09T00:42:10Z",
        "author_association": "MEMBER",
        "body": "\r\nFirst, modify CMakeLists.txt to add jetson support\r\n\r\n\t\t-  set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_50,code=sm_50\") # M series\r\n\t\t+  set(CMAKE_CUDA_FLAGS \"${CMAKE_CUDA_FLAGS} -gencode=arch=compute_53,code=sm_53\") # Jetson support\r\n\r\nTry the below build commandline instead (you can also add your numpy_version option if necessary):\r\n\r\n./build.sh --config Release --update --build --build_wheel --use_tensorrt --cuda_home /usr/local/cuda --cudnn_home /usr/lib/aarch64-linux-gnu --tensorrt_home /usr/lib/aarch64-linux-gnu\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/490701207/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/490899413",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-490899413",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 490899413,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDg5OTQxMw==",
        "user": {
            "login": "acdifran",
            "id": 25591626,
            "node_id": "MDQ6VXNlcjI1NTkxNjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/25591626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/acdifran",
            "html_url": "https://github.com/acdifran",
            "followers_url": "https://api.github.com/users/acdifran/followers",
            "following_url": "https://api.github.com/users/acdifran/following{/other_user}",
            "gists_url": "https://api.github.com/users/acdifran/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/acdifran/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/acdifran/subscriptions",
            "organizations_url": "https://api.github.com/users/acdifran/orgs",
            "repos_url": "https://api.github.com/users/acdifran/repos",
            "events_url": "https://api.github.com/users/acdifran/events{/privacy}",
            "received_events_url": "https://api.github.com/users/acdifran/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-09T13:15:08Z",
        "updated_at": "2019-05-09T13:15:08Z",
        "author_association": "NONE",
        "body": "Hi @jywu-msft thank your for the suggestion on how to attempt to fix this. I performed the steps you listed above and reinstalled onnxruntime, but python is still crashing when attempting to run the example. Although, now it seems to have changed from a bus error to a segmentation fault.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/490899413/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491041099",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-491041099",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 491041099,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTA0MTA5OQ==",
        "user": {
            "login": "acdifran",
            "id": 25591626,
            "node_id": "MDQ6VXNlcjI1NTkxNjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/25591626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/acdifran",
            "html_url": "https://github.com/acdifran",
            "followers_url": "https://api.github.com/users/acdifran/followers",
            "following_url": "https://api.github.com/users/acdifran/following{/other_user}",
            "gists_url": "https://api.github.com/users/acdifran/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/acdifran/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/acdifran/subscriptions",
            "organizations_url": "https://api.github.com/users/acdifran/orgs",
            "repos_url": "https://api.github.com/users/acdifran/repos",
            "events_url": "https://api.github.com/users/acdifran/events{/privacy}",
            "received_events_url": "https://api.github.com/users/acdifran/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-09T19:48:56Z",
        "updated_at": "2019-05-09T19:48:56Z",
        "author_association": "NONE",
        "body": "I attempted this on a different machine just to see what would happen and it is failing there as well. \r\n\r\nMachine stats: AWS p3.2xlarge w/ Tesla V100\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04 (based on deeplearning AMI)\r\nONNX Runtime installed from (source or binary): built from source\r\nONNX Runtime version: 0.4.0\r\nPython version: 3.6.8\r\nVisual Studio version (if applicable):\r\nGCC/Compiler version (if compiling from source): 5.4.0\r\nCUDA/cuDNN version: CUDA: 10.1 cuDNN: 7.5.0\r\nGPU model and memory: Tesla V100\r\nTensorRT version: 5.1.2.2\r\n\r\nBuild command was slightly different:\r\n\r\n./build.sh --update --build --cudnn_home /usr/local/cuda/lib64 --cuda_home /usr/local/cuda --use_tensorrt --tensorrt_home /home/ubuntu/TensorRT-5.1.2.2 --build_wheel --config Release --numpy_version '1.16.1'\r\n\r\nAfter installing the wheel file I ran the same example as before and still got the seg fault. \r\n\r\nAlso, for some more info:\r\n\r\nI am using the model found here when running the example code: https://github.com/onnx/models/tree/master/resnet50\r\n\r\nNot sure if relevant/helpful, but when reading in the model, I get this output:\r\n\r\n2019-05-09 19:45:21.930651033 [W:onnxruntime:Default, graph.cc:2208 CleanUnusedInitializers] gpu_0/imagenet1k_blobs_queue_f22e83c9-22cd-4a8b-a66d-113af6b832b4_0 exists in this graph's initializers but it is not used by any node\r\n2019-05-09 19:45:42.538466587 [W:onnxruntime:InferenceSession, session_state_initializer.cc:508 SaveInputOutputNamesToNodeMapping] Graph input with name gpu_0/imagenet1k_blobs_queue_f22e83c9-22cd-4a8b-a66d-113af6b832b4_0 is not associated with a node.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491041099/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491080096",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-491080096",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 491080096,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTA4MDA5Ng==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-09T21:45:18Z",
        "updated_at": "2019-05-09T21:54:24Z",
        "author_association": "MEMBER",
        "body": "if i'm reading it correctly, your 'hello world' model is resnet50.\r\nthat model expects input shape of [1,3,224,224] but you're using [3,4,5] ? \r\n(thought we should be doing input shape validation but maybe we aren't for python bindings.\r\ndefault cpu returns error to some other validation failure and I think tensorrt seems to not do any validation and we encounter an invalid memory access.)\r\n\r\nI tried this on jetson nano and it worked fine. can you try the same?\r\n\r\ntrttest@jetson1:~/resnet50$ python3\r\nPython 3.6.7 (default, Oct 22 2018, 11:32:17)\r\n[GCC 8.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n\\>>> import onnxruntime as ort\r\n\\>>> import numpy as np\r\n\\>>> sess = ort.InferenceSession('model.onnx')\r\n2019-05-09 12:51:58.219078817 [W:onnxruntime:Default, graph.cc:2208 CleanUnusedInitializers] gpu_0/imagenet1k_blobs_queue_f22e83c9-22cd-4a8b-a66d-113af6b832b4_0 exists in this graph's initializers but it is not used by any node\r\n2019-05-09 12:54:58.559817450 [W:onnxruntime:InferenceSession, session_state_initializer.cc:508 SaveInputOutputNamesToNodeMapping] Graph input with name gpu_0/imagenet1k_blobs_queue_f22e83c9-22cd-4a8b-a66d-113af6b832b4_0 is not associated with a node.\r\n\\>>> sess.get_inputs()[0].name\r\n'gpu_0/data_0'\r\n\\>>> sess.get_inputs()[0].shape\r\n[1, 3, 224, 224]\r\n\\>>> x = np.random.rand(1,3,224,224).astype('f')\r\n\\>>> res = sess.run([], {'gpu_0/data_0':x})\r\n\\>>> res[0].size\r\n1000\r\n\\>>> res[0].shape\r\n(1, 1000)\r\n\\>>> res[0].dtype\r\ndtype('float32')\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491080096/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491084871",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-491084871",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 491084871,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTA4NDg3MQ==",
        "user": {
            "login": "acdifran",
            "id": 25591626,
            "node_id": "MDQ6VXNlcjI1NTkxNjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/25591626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/acdifran",
            "html_url": "https://github.com/acdifran",
            "followers_url": "https://api.github.com/users/acdifran/followers",
            "following_url": "https://api.github.com/users/acdifran/following{/other_user}",
            "gists_url": "https://api.github.com/users/acdifran/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/acdifran/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/acdifran/subscriptions",
            "organizations_url": "https://api.github.com/users/acdifran/orgs",
            "repos_url": "https://api.github.com/users/acdifran/repos",
            "events_url": "https://api.github.com/users/acdifran/events{/privacy}",
            "received_events_url": "https://api.github.com/users/acdifran/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-09T22:03:51Z",
        "updated_at": "2019-05-09T22:03:51Z",
        "author_association": "NONE",
        "body": "@jywu-msft oh wow, you're absolutely right! I never changed the shape to match the model I was using and the low level faults were really throwing me off making me think it was something with the install itself. Thanks for the help!",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491084871/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491522857",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-491522857",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 491522857,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTUyMjg1Nw==",
        "user": {
            "login": "jywu-msft",
            "id": 43355415,
            "node_id": "MDQ6VXNlcjQzMzU1NDE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/43355415?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jywu-msft",
            "html_url": "https://github.com/jywu-msft",
            "followers_url": "https://api.github.com/users/jywu-msft/followers",
            "following_url": "https://api.github.com/users/jywu-msft/following{/other_user}",
            "gists_url": "https://api.github.com/users/jywu-msft/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jywu-msft/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jywu-msft/subscriptions",
            "organizations_url": "https://api.github.com/users/jywu-msft/orgs",
            "repos_url": "https://api.github.com/users/jywu-msft/repos",
            "events_url": "https://api.github.com/users/jywu-msft/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jywu-msft/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-11T15:57:26Z",
        "updated_at": "2019-05-11T15:57:26Z",
        "author_association": "MEMBER",
        "body": "closing this as it is resolved for the user.\r\nwill open another issue for avoiding low level failures in TensorRT provider.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/491522857/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/510584477",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/995#issuecomment-510584477",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/995",
        "id": 510584477,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDU4NDQ3Nw==",
        "user": {
            "login": "hossein1387",
            "id": 6366236,
            "node_id": "MDQ6VXNlcjYzNjYyMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6366236?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hossein1387",
            "html_url": "https://github.com/hossein1387",
            "followers_url": "https://api.github.com/users/hossein1387/followers",
            "following_url": "https://api.github.com/users/hossein1387/following{/other_user}",
            "gists_url": "https://api.github.com/users/hossein1387/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hossein1387/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hossein1387/subscriptions",
            "organizations_url": "https://api.github.com/users/hossein1387/orgs",
            "repos_url": "https://api.github.com/users/hossein1387/repos",
            "events_url": "https://api.github.com/users/hossein1387/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hossein1387/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-11T17:43:32Z",
        "updated_at": "2019-07-11T17:43:32Z",
        "author_association": "NONE",
        "body": "I had to add (not replace) the following to CMakeLists.txt at line [563](https://github.com/microsoft/onnxruntime/blob/bfda9ca1c1e396411850e335f6c22ab1ffb90fe7/cmake/CMakeLists.txt#L563) to make sure cuda compiler is found by the build system:\r\n\r\n`set(CMAKE_CUDA_COMPILER /usr/local/cuda/bin/nvcc)`\r\n\r\n\r\nI am compiling onnxruntime natively on Jetson TX2.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/510584477/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]