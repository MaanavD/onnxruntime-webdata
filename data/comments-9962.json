[
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/988581902",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-988581902",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 988581902,
        "node_id": "IC_kwDOCVq1mM467JAO",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-08T07:59:22Z",
        "updated_at": "2021-12-08T08:02:26Z",
        "author_association": "MEMBER",
        "body": "@wcpeter1988: Thanks. I'm unfamiliar with `OnRunEnd`, but it sounds like we'd just need add `OnRunEnd` and call `Flush`.\r\n\r\nonnxruntime\\core\\providers\\dml\\DmlExecutionProvider\\src\\ExecutionProvider.h\r\n\r\n    class ExecutionProvider : public onnxruntime::IExecutionProvider\r\n    {\r\n        ...\r\n        onnxruntime::common::Status OnSessionInitializationEnd() override\r\n        { \r\n            return m_impl->OnSessionInitializationEnd();\r\n        }\r\n\r\n        void OnRunEnd()\r\n        {\r\n            return m_impl->Flush(); // <<<<<<<< add here\r\n        }\r\n\r\n        void Flush()\r\n        {\r\n            return m_impl->Flush();\r\n        }\r\n\r\nNow I'm just trying to follow `SynchronizeBoundOutputs` to see whether the caller needs to explicitly wait, because I'm not seeing `IExecutionProvider::Sync` implemented either ðŸ¤”. I'll check with teammates...",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/988581902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/988914024",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-988914024",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 988914024,
        "node_id": "IC_kwDOCVq1mM468aFo",
        "user": {
            "login": "wcpeter1988",
            "id": 53616232,
            "node_id": "MDQ6VXNlcjUzNjE2MjMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/53616232?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wcpeter1988",
            "html_url": "https://github.com/wcpeter1988",
            "followers_url": "https://api.github.com/users/wcpeter1988/followers",
            "following_url": "https://api.github.com/users/wcpeter1988/following{/other_user}",
            "gists_url": "https://api.github.com/users/wcpeter1988/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wcpeter1988/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wcpeter1988/subscriptions",
            "organizations_url": "https://api.github.com/users/wcpeter1988/orgs",
            "repos_url": "https://api.github.com/users/wcpeter1988/repos",
            "events_url": "https://api.github.com/users/wcpeter1988/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wcpeter1988/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-08T15:27:40Z",
        "updated_at": "2021-12-08T15:27:40Z",
        "author_association": "NONE",
        "body": "Thanks for the quick response.\r\n\r\nI suppose m_impl->Flush() is already waiting for command queue completion, and there are ResourceBarrier for OpKernel outputs. So Flush itself should be sufficient, at least for sequential executor.\r\nFor OnRunEnd, I am not sure whether it is the most suitable stage to call Flush, though implement OnRunEnd with single line \"m_impl->Flush()\", the inference works and the result is correctly filled into output allocation.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/988914024/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/989086852",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-989086852",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 989086852,
        "node_id": "IC_kwDOCVq1mM469ESE",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-08T18:46:00Z",
        "updated_at": "2022-01-12T20:14:52Z",
        "author_association": "MEMBER",
        "body": "@wcpeter1988: Thanks. (I'm out of office now but assigned this to another teammate.)\r\n\r\n(update) Both @sumitsays and I are back in the office.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/989086852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1011573277",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-1011573277",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 1011573277,
        "node_id": "IC_kwDOCVq1mM48S2Id",
        "user": {
            "login": "wcpeter1988",
            "id": 53616232,
            "node_id": "MDQ6VXNlcjUzNjE2MjMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/53616232?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wcpeter1988",
            "html_url": "https://github.com/wcpeter1988",
            "followers_url": "https://api.github.com/users/wcpeter1988/followers",
            "following_url": "https://api.github.com/users/wcpeter1988/following{/other_user}",
            "gists_url": "https://api.github.com/users/wcpeter1988/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wcpeter1988/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wcpeter1988/subscriptions",
            "organizations_url": "https://api.github.com/users/wcpeter1988/orgs",
            "repos_url": "https://api.github.com/users/wcpeter1988/repos",
            "events_url": "https://api.github.com/users/wcpeter1988/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wcpeter1988/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-13T00:22:54Z",
        "updated_at": "2022-01-13T00:22:54Z",
        "author_association": "NONE",
        "body": "Happy new year.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1011573277/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1021612221",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-1021612221",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 1021612221,
        "node_id": "IC_kwDOCVq1mM485JC9",
        "user": {
            "login": "sumitsays",
            "id": 11188170,
            "node_id": "MDQ6VXNlcjExMTg4MTcw",
            "avatar_url": "https://avatars.githubusercontent.com/u/11188170?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sumitsays",
            "html_url": "https://github.com/sumitsays",
            "followers_url": "https://api.github.com/users/sumitsays/followers",
            "following_url": "https://api.github.com/users/sumitsays/following{/other_user}",
            "gists_url": "https://api.github.com/users/sumitsays/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sumitsays/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sumitsays/subscriptions",
            "organizations_url": "https://api.github.com/users/sumitsays/orgs",
            "repos_url": "https://api.github.com/users/sumitsays/repos",
            "events_url": "https://api.github.com/users/sumitsays/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sumitsays/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-25T21:11:07Z",
        "updated_at": "2022-01-25T21:11:07Z",
        "author_association": "MEMBER",
        "body": "@wcpeter1988 We have solved this issue as part of this [PR:10362](https://github.com/microsoft/onnxruntime/pull/10362). Please verify by building ORT from source.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1021612221/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1054084603",
        "html_url": "https://github.com/microsoft/onnxruntime/issues/9962#issuecomment-1054084603",
        "issue_url": "https://api.github.com/repos/microsoft/onnxruntime/issues/9962",
        "id": 1054084603,
        "node_id": "IC_kwDOCVq1mM4-1A37",
        "user": {
            "login": "fdwr",
            "id": 1809166,
            "node_id": "MDQ6VXNlcjE4MDkxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1809166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fdwr",
            "html_url": "https://github.com/fdwr",
            "followers_url": "https://api.github.com/users/fdwr/followers",
            "following_url": "https://api.github.com/users/fdwr/following{/other_user}",
            "gists_url": "https://api.github.com/users/fdwr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fdwr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fdwr/subscriptions",
            "organizations_url": "https://api.github.com/users/fdwr/orgs",
            "repos_url": "https://api.github.com/users/fdwr/repos",
            "events_url": "https://api.github.com/users/fdwr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fdwr/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-02-28T10:00:23Z",
        "updated_at": "2022-02-28T10:01:04Z",
        "author_association": "MEMBER",
        "body": "@wcpeter1988 This fix will be out soon in ORT 1.11. Closing. Please verify if you haven't already.",
        "reactions": {
            "url": "https://api.github.com/repos/microsoft/onnxruntime/issues/comments/1054084603/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]